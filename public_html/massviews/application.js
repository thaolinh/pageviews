!function i(e,t,o){function r(n,s){if(!t[n]){if(!e[n]){var k="function"==typeof require&&require;if(!s&&k)return k(n,!0);if(a)return a(n,!0);var c=new Error("Cannot find module '"+n+"'");throw c.code="MODULE_NOT_FOUND",c}var w=t[n]={exports:{}};e[n][0].call(w.exports,function(i){var t=e[n][1][i];return r(t?t:i)},w,w.exports,i,e,t,o)}return t[n].exports}for(var a="function"==typeof require&&require,n=0;n<o.length;n++)r(o[n]);return r}({1:[function(i,e,t){"use strict";var o={agentSelector:"#agent_select",chart:".aqs-chart",dateLimit:31,dateRangeSelector:"#range_input",defaults:{dateRange:"latest-20",project:"en.wikipedia.org",sort:"views",source:"category",sourceProject:"",direction:1,outputData:[],hadFailure:!1,total:0,view:"list",subjectpage:0},linearLegend:function(i,e){return"<strong>"+$.i18n("totals")+":</strong> "+e.formatNumber(e.outputData.sum)+"\n      ("+e.formatNumber(Math.round(e.outputData.average))+"/"+$.i18n("day")+")"},logarithmicCheckbox:".logarithmic-scale-option",sources:{category:{placeholder:"https://en.wikipedia.org/wiki/Category:Folk_musicians_from_New_York",descriptionParams:function(){return["<a target='_blank' href='https://www.mediawiki.org/wiki/Special:MyLanguage/Help:Categories'>"+$.i18n("category").toLowerCase()+"</a>"]},type:"text"},wikilinks:{placeholder:"https://en.wikipedia.org/wiki/Book:New_York_City",descriptionParams:function(){return["https://www.mediawiki.org/wiki/Special:MyLanguage/Help:Wikilinks"]},type:"text"},pagepile:{placeholder:"12345",descriptionParams:function(){return["<a target='_blank' href='//tools.wmflabs.org/pagepile'>PagePile</a>"]},type:"number"},subpages:{placeholder:"https://en.wikipedia.org/wiki/User:Example",descriptionParams:function(){return["<a target='_blank' href='https://www.mediawiki.org/wiki/Special:MyLanguage/Help:Subpages'>"+$.i18n("subpages").toLowerCase()+"</a>"]},type:"text"},transclusions:{placeholder:"https://en.wikipedia.org/wiki/Template:Infobox_Olympic_games",descriptionParams:function(){return["https://www.mediawiki.org/wiki/Special:MyLanguage/Help:Transclusion"]},type:"text"},quarry:{placeholder:"12345",descriptionParams:function(){return["<a target='_blank' href='//quarry.wmflabs.org'>Quarry</a>"]},type:"number"},hashtag:{placeholder:"#editathon",descriptionParams:function(){return["<span class='glyphicon glyphicon-flash'></span>"+$.i18n("hashtag-credits","<a target='_blank' href='//tools.wmflabs.org/hashtags'>Wikipedia social search</a>"),"<a target='_blank' href='//tools.wmflabs.org/hashtags/docs'>"+$.i18n("hashtag").toLowerCase()+"</a>"]},type:"string"},"external-link":{placeholder:"*.nycgo.com",descriptionParams:function(){return["<a target='_blank' href='https://www.mediawiki.org/wiki/Help:Links#External_links'>"+$.i18n("external-link").toLowerCase()+"</a>"]},type:"string"}},platformSelector:"#platform_select",sourceButton:"#source_button",sourceInput:"#source_input",formStates:["initial","processing","complete","invalid"],timestampFormat:"YYYYMMDD00",validateParams:["source","subjectpage","platform","agent","direction","sort","view"],validParams:{direction:["-1","1"],sort:["title","views","original"],source:["pagepile","wikilinks","category","subpages","transclusions","quarry","hashtag","external-link"],view:["list","chart"],subjectpage:["0","1"]}};e.exports=o},{}],2:[function(i,e,t){"use strict";function o(i){if(Array.isArray(i)){for(var e=0,t=Array(i.length);e<i.length;e++)t[e]=i[e];return t}return Array.from(i)}function r(i,e){if(!(i instanceof e))throw new TypeError("Cannot call a class as a function")}function a(i,e){if(!i)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?i:e}function n(i,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);i.prototype=Object.create(e&&e.prototype,{constructor:{value:i,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(i,e):i.__proto__=e)}var s=function(){function i(i,e){var t=[],o=!0,r=!1,a=void 0;try{for(var n,s=i[Symbol.iterator]();!(o=(n=s.next()).done)&&(t.push(n.value),!e||t.length!==e);o=!0);}catch(i){r=!0,a=i}finally{try{!o&&s.return&&s.return()}finally{if(r)throw a}}return t}return function(e,t){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return i(e,t);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),k=function(){function i(i,e){for(var t=0;t<e.length;t++){var o=e[t];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(i,o.key,o)}}return function(e,t,o){return t&&i(e.prototype,t),o&&i(e,o),e}}(),c=function i(e,t,o){null===e&&(e=Function.prototype);var r=Object.getOwnPropertyDescriptor(e,t);if(void 0===r){var a=Object.getPrototypeOf(e);return null===a?void 0:i(a,t,o)}if("value"in r)return r.value;var n=r.get;if(void 0!==n)return n.call(o)},w=i("./config"),g=i("../shared/site_map"),u=Object.keys(g).map(function(i){return g[i]}),l=i("../shared/pv"),p=i("../shared/chart_helpers"),d=i("../shared/list_helpers"),h=function(i){function e(){r(this,e);var i=a(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,w));return i.app="massviews",i}return n(e,i),k(e,[{key:"initialize",value:function(){this.assignDefaults(),this.setupDateRangeSelector(),this.popParams(),this.setupListeners(),$(".multi-page-chart-node").hide()}},{key:"setupListeners",value:function(){var i=this;c(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"setupListeners",this).call(this),$("#pv_form").on("submit",function(e){e.preventDefault(),i.processInput()}),$(".another-query").on("click",function(){i.setState("initial"),i.pushParams(!0)}),$(".sort-link").on("click",function(e){var t=$(e.currentTarget).data("type");i.direction=i.sort===t?-i.direction:1,i.sort=t,i.renderData()}),$(".source-option").on("click",function(e){return i.updateSourceInput(e.target)}),$(".view-btn").on("click",function(e){document.activeElement.blur(),i.view=e.currentTarget.dataset.value,i.toggleView(i.view)})}},{key:"assignDefaults",value:function(){var i=this;["sort","source","direction","outputData","hadFailure","total","view","subjectpage"].forEach(function(e){i[e]=i.config.defaults[e]})}},{key:"updateSourceInput",value:function(i){var e,t=i.dataset.value;$("#source_button").data("value",t).html(i.textContent+" <span class='caret'></span>"),$(this.config.sourceInput).prop("type",this.config.sources[t].type).prop("placeholder",this.config.sources[t].placeholder).val(""),$(".source-description").html((e=$).i18n.apply(e,["massviews-"+t+"-description"].concat(o(this.config.sources[t].descriptionParams())))),"category"===t?$(".category-subject-toggle").show():$(".category-subject-toggle").hide(),"quarry"===t||"external-link"===t?($(".massviews-source-input").addClass("project-enabled"),$(".project-input").prop("disabled",!1)):($(".massviews-source-input").removeClass("project-enabled"),$(".project-input").prop("disabled",!0)),$(this.config.sourceInput).focus()}},{key:"getParams",value:function(){var i=arguments.length>0&&void 0!==arguments[0]&&arguments[0],e={platform:$(this.config.platformSelector).val(),agent:$(this.config.agentSelector).val(),source:$(this.config.sourceButton).data("value"),target:$(this.config.sourceInput).val().score()};return this.specialRange&&!i?e.range=this.specialRange.range:(e.start=this.daterangepicker.startDate.format("YYYY-MM-DD"),e.end=this.daterangepicker.endDate.format("YYYY-MM-DD")),"category"===e.source?e.subjectpage=$(".category-subject-toggle--input").is(":checked")?"1":"0":"quarry"!==e.source&&"external-link"!==e.source||(e.project=$(".project-input").val()),i||(e.sort=this.sort,e.direction=this.direction,e.view=this.view,this.noLogScale&&(e.autolog="false")),e}},{key:"pushParams",value:function(){var i=arguments.length>0&&void 0!==arguments[0]&&arguments[0];if(window.history&&window.history.replaceState){if(i)return history.replaceState(null,document.title,location.href.split("?")[0]);window.history.replaceState({},document.title,"?"+$.param(this.getParams())),$(".permalink").prop("href","/massviews?"+$.param(this.getPermaLink()))}}},{key:"renderData",value:function(){var i=this;c(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"renderData",this).call(this,function(e){var t=$("#source_button").data("value"),o=void 0;o=["wikilinks","subpages","transclusions"].includes(t)?$.i18n("num-"+t,e.length-("subpages"===t?1:0)):$.i18n("num-pages",e.length),$(".output-totals").html("<th scope='row'>"+$.i18n("totals")+"</th>\n         <th>"+$.i18n(o,e.length)+"</th>\n         <th>"+i.formatNumber(i.outputData.sum)+"</th>\n         <th>"+i.formatNumber(Math.round(i.outputData.average))+" / "+$.i18n("day")+"</th>"),$("#output_list").html(""),e.forEach(function(e,t){$("#output_list").append("<tr>\n           <th scope='row'>"+(t+1)+'</th>\n           <td><a href="https://'+e.project.escape()+"/wiki/"+e.label.score()+'" target="_blank">'+e.label.descore()+'</a></td>\n           <td><a target="_blank" href=\''+i.getPageviewsURL(e.project,e.label)+"'>"+i.formatNumber(e.sum)+"</a></td>\n           <td>"+i.formatNumber(Math.round(e.average))+" / "+$.i18n("day")+"</td>\n           </tr>")})})}},{key:"getSortProperty",value:function(i,e){switch(e){case"original":return i.index;case"title":return i.label;case"views":return Number(i.sum)}}},{key:"getPageViewsData",value:function(i,e){var t=this,o=this.daterangepicker.startDate.startOf("day"),r=this.daterangepicker.endDate.startOf("day"),a=$.Deferred(),n=0,k={},c=i.length,w=[],g=[],u=function i(u){var l=void 0;if(e)l=e;else{var p=t.getWikiPageFromURL(u),d=s(p,2);l=d[0],u=d[1]}var h=encodeURIComponent(u),f="https://wikimedia.org/api/rest_v1/metrics/pageviews/per-article/"+l+("/"+$(t.config.platformSelector).val()+"/"+$(t.config.agentSelector).val()+"/"+h+"/daily")+("/"+o.format(t.config.timestampFormat)+"/"+r.format(t.config.timestampFormat)),m=$.ajax({url:f,dataType:"json"});m.done(function(i){g.push({title:u,project:l,items:i.items})}).fail(function(e){var o="Error in Cassandra table storage backend"===e.responseJSON.title;return o&&(k[u]?k[u]++:k[u]=1,k[u]<3)?(c++,t.rateLimit(i,100,t)(u)):(o?w.push(u):t.writeMessage(t.getPageLink(u,l)+": "+$.i18n("api-error","Pageviews API")+" - "+e.responseJSON.title),void(404!==e.status&&(hadFailure=!0)))}).always(function(){t.updateProgressBar(++n,c),n===c&&(w.length&&t.writeMessage($.i18n("api-error-timeout","<ul>"+w.map(function(i){return"<li>"+t.getPageLink(i,l)+"</li>"}).join("")+"</ul>")),a.resolve(g))})},l=this.rateLimit(u,this.config.apiThrottle,this);return i.forEach(function(i,e){l(i)}),a}},{key:"buildMotherDataset",value:function(i,e,t){var o=this;this.outputData={labels:this.getDateHeadings(!0),link:e,listData:[]};var r=moment(this.daterangepicker.startDate),a=moment(this.daterangepicker.endDate),n=this.numDaysInRange(),k=new Array(n).fill(0),c=[];t.forEach(function(i,e){var t=i.items.map(function(i){return i.views}),w=t.reduce(function(i,e){return i+e});o.outputData.listData.push({data:t,label:i.title,project:i.project,sum:w,average:w/n,index:e});var g=o.fillInZeros(i.items,r,a),u=s(g,2),l=u[0],p=u[1];p.forEach(function(i){c.includes(i)||c.push(i)}),k=k.map(function(i,e){return i+l[e].views})});var w=k.reduce(function(i,e){return(i||0)+(e||0)});if(Object.assign(this.outputData,{datasets:[{label:i,data:k,sum:w,average:w/n}],datesWithoutData:c,sum:w,average:w/n}),c.length){var g=c.map(function(i){return moment(i).format(o.dateFormat)});this.writeMessage($.i18n("api-incomplete-data",g.sort().join(" &middot; "),g.length))}return this.hadFailure||simpleStorage.set(this.getCacheKey(),this.outputData,{TTL:6e5}),this.outputData}},{key:"getPileURL",value:function(i){return"http://tools.wmflabs.org/pagepile/api.php?action=get_data&id="+i}},{key:"getPileLink",value:function(i){return"<a href='"+this.getPileURL(i)+"' target='_blank'>Page Pile "+i+"</a>"}},{key:"getPagePile",value:function(i){var e=this,t=$.Deferred(),o="https://tools.wmflabs.org/pagepile/api.php?id="+i+"&action=get_data&format=json&metadata=1";return $.ajax({url:o,dataType:"jsonp"}).done(function(o){var r=Object.keys(o.pages);return r.length>e.config.apiLimit&&(e.writeMessage($.i18n("massviews-oversized-set",e.getPileLink(i),e.formatNumber(r.length),e.config.apiLimit)),r=r.slice(0,e.config.apiLimit)),t.resolve({id:o.id,wiki:o.wiki,pages:r})}).fail(function(o){return t.reject(e.getPileLink(i)+": "+$.i18n("api-error-no-data"))}),t}},{key:"getWikiPageFromURL",value:function(i){var e=void 0;return e=i.includes("?")?i.match(/\/\/(.*?)\/w\/.*\?(?:.*\b)?title=(.*?)(?:&|$)/):i.match(/\/\/(.*?)\/wiki\/(.*?)(?:\?|$)/),e?e.slice(1):[null,null]}},{key:"popParams",value:function(){var i=this,e=this.validateParams(this.parseQueryString());this.validateDateRange(e),this.patchUsage(),this.updateSourceInput($(".source-option[data-value="+e.source+"]")[0]),e.target&&$(this.config.sourceInput).val(decodeURIComponent(e.target).descore()),$(".site-notice .alert-danger").length?delete e.target:e.overflow&&"pagepile"===e.source&&e.target&&this.addSiteNotice("info",$.i18n("massviews-redirect",$.i18n("title"),10,this.getPileLink(e.target)),"",!0),$(this.config.platformSelector).val(e.platform),$(this.config.agentSelector).val(e.agent),["sort","direction","view","source","subjectpage"].forEach(function(t){i[t]=e[t]}),"quarry"!==e.source&&"external-link"!==e.source||!e.project||$(".project-input").val(e.project),"1"===e.subjectpage&&$(".category-subject-toggle--input").prop("checked",!0),e.target&&this.processInput()}},{key:"setState",value:function(i,e){switch($("main").removeClass(this.config.formStates.join(" ")).addClass(i),i){case"initial":this.updateProgressBar(0),this.clearMessages(),this.assignDefaults(),this.destroyChart(),$("output").removeClass("list-mode").removeClass("chart-mode"),$(".data-links").addClass("invisible"),this.typeahead&&this.typeahead.hide(),$(this.config.sourceInput).val("").focus(),"function"==typeof e&&e.call(this);break;case"processing":this.processStarted(),this.clearMessages(),document.activeElement.blur(),$(".progress-bar").addClass("active");break;case"complete":this.processEnded(),this.updateProgressBar(0),$(".progress-bar").removeClass("active"),$(".data-links").removeClass("invisible");break;case"invalid":}}},{key:"apiErrorReset",value:function(i,e){var t=this;return this.setState("initial",function(){var o=void 0;o=e?$.i18n("api-error",i)+": "+e:""+$.i18n("api-error-unknown",i),t.writeMessage(o)})}},{key:"processPagePile",value:function(i){var e=this,t=$(this.config.sourceInput).val();$(".progress-counter").text($.i18n("fetching-data","Page Pile API")),this.getPagePile(t).done(function(o){if(!o.pages.length)return e.setState("initial",function(){e.writeMessage($.i18n("massviews-empty-set",e.getPileLink(t)))});var r=g[o.wiki];"en.wikipedia.org"===r&&(o.pages=o.pages.map(function(i){return i.replace(/^Project:Wikipedia:/,"Wikipedia:")})),e.getPageViewsData(o.pages,r).done(function(t){var a="Page Pile #"+o.id;$(".output-title").text(a).prop("href",e.getPileURL(o.id)),$(".output-params").html("\n          "+$(e.config.dateRangeSelector).val()+'\n          &mdash;\n          <a href="https://'+r.escape()+'" target="_blank">\n            '+r.replace(/.org$/,"").escape()+"\n          </a>\n          "),i(a,e.getPileLink(o.id),t)})}).fail(function(i){e.setState("initial"),"string"==typeof i?e.writeMessage(i):e.writeMessage($.i18n("api-error-unknown","Page Pile"))})}},{key:"processCategory",value:function(i,e,t){var o=this,r={list:"categorymembers",cmlimit:500,cmtitle:e,prop:"categoryinfo",titles:e},a=this.getPageLink(e,i);$(".progress-counter").text($.i18n("fetching-data","Category API")),this.massApi(r,i,"cmcontinue","categorymembers").done(function(r){if(r.error)return o.apiErrorReset("Category API",r.error.info);var n=r.pages[0];if(n.missing)return o.setState("initial",function(){o.writeMessage($.i18n("api-error-no-data"))});var s=n.categoryinfo.size,k=o.getSiteInfo(i)?o.getSiteInfo(i).namespaces:void 0,c=r.categorymembers;if(!c.length)return o.setState("initial",function(){o.writeMessage($.i18n("massviews-empty-set",a))});s>o.config.apiLimit&&(o.writeMessage($.i18n("massviews-oversized-set",a,o.formatNumber(s),o.config.apiLimit)),c=c.slice(0,o.config.apiLimit));var w=o.mapCategoryPageNames(c,k);o.getPageViewsData(w,i).done(function(i){t(e,a,i)})}).fail(function(i){o.setState("initial"),i&&"string"==typeof i.error?o.writeMessage($.i18n("api-error",a+": "+i.error)):o.writeMessage($.i18n("api-error-unknown",a))})}},{key:"processHashtag",value:function(i){var e=this,t=$(this.config.sourceInput).val().replace(/^#/,""),o='<a target="_blank" href="http://tools.wmflabs.org/hashtags/search/'+t+'">#'+t.escape()+"</a>";$(".progress-counter").text($.i18n("fetching-data","Hashtag API")),$.get("http://tools.wmflabs.org/hashtags/csv/"+t+"?limit=5000").done(function(r){for(var a=",",n=new RegExp("(\\"+a+'|\\r?\\n|\\r|^)(?:"([^"]*(?:""[^"]*)*)"|'+('([^"\\'+a+"\\r\\n]*))"),"gi"),s=[[]],k=void 0;k=n.exec(r);){var c=k[1];c.length&&c!==a&&s.push([]);var w=void 0;w=k[2]?k[2].replace(new RegExp('""',"g"),'"'):k[3],s[s.length-1].push(w)}return 1!==s[s.length-1].length||s[s.length-1][0]||(s=s.slice(0,-1)),1===s.length?e.setState("initial",function(){e.writeMessage($.i18n("massviews-empty-set",o))}):void e.getPageURLsFromHashtagCSV(s).done(function(r){var a=r.length;a>e.config.apiLimit&&(e.writeMessage($.i18n("massviews-oversized-set",o,e.formatNumber(a),e.config.apiLimit)),r=r.slice(0,e.config.apiLimit)),e.getPageViewsData(r).done(function(e){i(t,o,e)})}).fail(function(){return e.apiErrorReset("Siteinfo API")})}).fail(function(){return e.apiErrorReset("Hashtag API")})}},{key:"getPageURLsFromHashtagCSV",value:function(i){var e=this,t=$.Deferred(),o=i[0].indexOf("spaced_title"),r=i[0].indexOf("rc_namespace"),a=i[0].indexOf("diff_url"),n=[];return i.slice(1).forEach(function(s){var k=s[a].match(/https:\/\/(.*?\.org)\//)[1];e.fetchSiteInfo(k).done(function(){var a=e.getSiteInfo(k).namespaces[s[r]]["*"];n.push("https://"+k+"/wiki/"+(a?a+":":"")+s[o]),n.length===i.length-1&&t.resolve(n.unique())}).fail(function(){t.reject()})}),t}},{key:"processSubpages",value:function(i,e,t){var o,r=this,a=e.descore(),n=0,s=void 0;for(var k in this.getSiteInfo(i).namespaces)if("0"!==k){var c=this.getSiteInfo(i).namespaces[k]["*"]+":";a.startsWith(c)&&(n=this.getSiteInfo(i).namespaces[k].id,s=e.substring(c.length))}var w=n%2===0?n+1:n-1,g=[];$(".progress-counter").text($.i18n("fetching-data","Allpages API")),[n,w].forEach(function(e){var t={list:"allpages",aplimit:500,apnamespace:e,apprefix:s+"/"};g.push(r.massApi(t,i,"apcontinue","allpages"))});var u=this.getPageLink(e,i);(o=$).when.apply(o,g).done(function(o,a){var n=[o,a].filter(function(i){return!!i.error});if(n.length)return r.setState("initial",function(){n.forEach(function(i){r.writeMessage($.i18n("api-error","Allpages API")+": "+i.error.info.escape())})}),!1;var s=o.allpages.concat(a.allpages),k=s.length;if(0===k)return r.setState("initial",function(){r.writeMessage($.i18n("api-error-no-data"))});k>r.config.apiLimit&&(r.writeMessage($.i18n("massviews-oversized-set",u,r.formatNumber(k),r.config.apiLimit)),s=s.slice(0,r.config.apiLimit));var c=[e].concat(s.map(function(i){return i.title}));r.getPageViewsData(c,i).done(function(i){t(e,u,i)})}).fail(function(i){r.setState("initial"),i&&"string"==typeof i.error?r.writeMessage($.i18n("api-error",u+": "+i.error)):r.writeMessage($.i18n("api-error-unknown",u))})}},{key:"processTemplate",value:function(i,e,t){var o=this,r={prop:"transcludedin",tilimit:500,titles:e},a=this.getPageLink(e,i);$(".progress-counter").text($.i18n("fetching-data","Transclusion API")),this.massApi(r,i,"ticontinue",function(i){return i.pages[0].transcludedin}).done(function(r){if(r.error)return o.apiErrorReset("Transclusion API",r.error.info);if(!r.pages[0])return o.setState("initial",function(){o.writeMessage($.i18n("api-error-no-data"))});var n=r.pages.map(function(i){return i.title});r.continue&&o.writeMessage($.i18n("massviews-oversized-set-unknown",a,o.config.apiLimit)),o.getPageViewsData(n,i).done(function(i){t(e,a,i)})}).fail(function(i){o.setState("initial"),i&&"string"==typeof i.error?o.writeMessage($.i18n("api-error",a+": "+i.error)):o.writeMessage($.i18n("api-error-unknown",a))})}},{key:"processWikiPage",value:function(i,e,t){var o=this,r={pllimit:500,prop:"links",titles:e},a=this.getPageLink(e,i);$(".progress-counter").text($.i18n("fetching-data","Links API")),this.massApi(r,i,"plcontinue",function(i){return i.pages[0].links}).done(function(r){if(r.error)return o.apiErrorReset("Links API",r.error.info);if(!r.pages[0])return o.setState("initial",function(){o.writeMessage($.i18n("api-error-no-data"))});var n=r.pages.map(function(i){return i.title});return n.length?(r.continue&&o.writeMessage($.i18n("massviews-oversized-set-unknown",a,o.config.apiLimit)),void o.getPageViewsData(n,i).done(function(i){t(e,a,i)})):o.setState("initial",function(){o.writeMessage($.i18n("massviews-empty-set",a))})}).fail(function(i){var e=i&&"string"==typeof i.error?i.error:null;o.apiErrorReset("Links API",e)})}},{key:"processQuarry",value:function(i){var e=this,t=$(".project-input").val(),o=$(this.config.sourceInput).val();if(this.validateProject(t)){var r="https://quarry.wmflabs.org/query/"+o+"/result/latest/0/json",a="<a target='_blank' href='https://quarry.wmflabs.org/query/"+o+"'>Quarry "+o+"</a>";$(".progress-counter").text($.i18n("fetching-data","Quarry API")),$.getJSON(r).done(function(r){var n=r.headers.indexOf("page_title");if(n===-1)return e.setState("initial"),e.writeMessage($.i18n("invalid-quarry-dataset","page_title"));var s=r.rows.map(function(i){return i[n]});s.length>e.config.apiLimit&&(e.writeMessage($.i18n("massviews-oversized-set",a,e.formatNumber(s.length),e.config.apiLimit)),s=s.slice(0,e.config.apiLimit)),e.getPageViewsData(s,t).done(function(e){i(o,a,e)})}).fail(function(i){return e.setState("initial"),e.writeMessage($.i18n("api-error-unknown","Quarry API"),!0)})}}},{key:"processExternalLink",value:function(i){var e=this,t=$(".project-input").val(),o=$(this.config.sourceInput).val();if(this.validateProject(t)){var r={list:"exturlusage",eulimit:500,eunamespace:0,euquery:o},a="<a target='_blank' href='https://"+t+"/w/index.php?target="+o+"&title=Special:LinkSearch'>"+o+"</a>";$(".progress-counter").text($.i18n("fetching-data","External link API")),this.massApi(r,t,"euoffset","exturlusage").done(function(r){if(r.error)return e.apiErrorReset("External link API",r.error.info);if(!r.exturlusage[0])return e.setState("initial",function(){e.writeMessage($.i18n("api-error-no-data"))});var n=r.exturlusage.map(function(i){return i.title}).unique();return n.length?(r.continue&&e.writeMessage($.i18n("massviews-oversized-set-unknown",a,e.config.apiLimit)),void e.getPageViewsData(n,t).done(function(e){i(o,a,e)})):e.setState("initial",function(){e.writeMessage($.i18n("massviews-empty-set",a))})}).fail(function(i){e.setState("initial"),i&&"string"==typeof i.error?e.writeMessage($.i18n("api-error",a+": "+i.error)):e.writeMessage($.i18n("api-error-unknown",a))})}}},{key:"validateProject",value:function(i){return!!i&&(i=i.replace(/^www\./,""),!!u.includes(i)||(this.setState("initial"),this.writeMessage($.i18n("invalid-project","<a href='//"+i.escape()+"'>"+i.escape()+"</a>"),!0),!1))}},{key:"mapCategoryPageNames",value:function(i,e){var t=[];return i.forEach(function(i){if(e&&i.ns%2===1){var o=e[i.ns].canonical,r=e[i.ns-1].canonical||"";t.push(i.title.replace(o,r).replace(/^\:/,""))}else t.push(i.title)}),t}},{key:"processInput",value:function(){var i=this;this.setState("processing");var e=function(){$(".output-title").html(i.outputData.link),$(".output-params").html($(i.config.dateRangeSelector).val()),i.setInitialChartType(),i.renderData()};if(this.isRequestCached())return $(".progress-bar").css("width","100%"),$(".progress-counter").text($.i18n("loading-cache")),setTimeout(function(){i.outputData=simpleStorage.get(i.getCacheKey()),e()},500);var t=function(t,o,r){$(".progress-bar").css("width","100%"),$(".progress-counter").text($.i18n("building-dataset")),setTimeout(function(){i.buildMotherDataset(t,o,r),e()},250)},o=$("#source_button").data("value");switch(o){case"pagepile":return this.processPagePile(t);case"quarry":return this.processQuarry(t);case"hashtag":return this.processHashtag(t);case"external-link":return this.processExternalLink(t)}var r=this.getWikiPageFromURL($(this.config.sourceInput).val()),a=s(r,2),n=a[0],k=a[1];if(!n||!k)return this.setState("initial",function(){i.writeMessage($.i18n("invalid-"+("category"===o?"category":"page")+"-url"))});if(this.validateProject(n))switch(k=decodeURIComponent(k).replace(/\/$/,""),o){case"category":$(".category-subject-toggle--input").is(":checked")?this.fetchSiteInfo(n).then(function(){i.processCategory(n,k,t)}):this.processCategory(n,k,t);break;case"subpages":this.fetchSiteInfo(n).then(function(){return i.processSubpages(n,k,t)});break;case"wikilinks":this.processWikiPage(n,k,t);break;case"transclusions":this.processTemplate(n,k,t)}}},{key:"exportCSV",value:function(){var i="data:text/csv;charset=utf-8,Title,"+this.getDateHeadings(!1).join(",")+"\n";this.outputData.listData.forEach(function(e){var t='"'+e.label.descore().replace(/"/g,'""')+'"';i+=[t].concat(e.data).join(",")+"\n"}),this.downloadData(i,"csv")}},{key:"baseProject",get:function(){return this.project.split(".")[1]}}]),e}(mix(l).with(p,d));$(document).ready(function(){return document.location.hash&&!document.location.search?document.location.href=document.location.href.replace("#","?"):document.location.hash?document.location.href=document.location.href.replace(/\#.*/,""):void new h})},{"../shared/chart_helpers":3,"../shared/list_helpers":5,"../shared/pv":7,"../shared/site_map":9,"./config":1}],3:[function(i,e,t){"use strict";function o(i){if(Array.isArray(i)){for(var e=0,t=Array(i.length);e<i.length;e++)t[e]=i[e];return t}return Array.from(i)}function r(i,e,t){return e in i?Object.defineProperty(i,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):i[e]=t,i}function a(i,e){if(!(i instanceof e))throw new TypeError("Cannot call a class as a function")}function n(i,e){if(!i)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?i:e}function s(i,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);i.prototype=Object.create(e&&e.prototype,{constructor:{value:i,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(i,e):i.__proto__=e)}var k=function(){function i(i,e){for(var t=0;t<e.length;t++){var o=e[t];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(i,o.key,o)}}return function(e,t,o){return t&&i(e.prototype,t),o&&i(e,o),e}}(),c=function i(e,t,o){null===e&&(e=Function.prototype);var r=Object.getOwnPropertyDescriptor(e,t);if(void 0===r){var a=Object.getPrototypeOf(e);return null===a?void 0:i(a,t,o)}if("value"in r)return r.value;var n=r.get;if(void 0!==n)return n.call(o)},w=function(i){return function(i){function e(i){a(this,e);var t=n(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,i));t.chartObj=null,t.prevChartType=null,t.autoChartType=!0;var o=t.getFromLocalStorage("pageviews-chart-preference");return t.config.linearCharts.includes(o)||t.config.circularCharts.includes(o)||t.setLocalStorage("pageviews-chart-preference",t.config.defaults.chartType()),t.config.chart?(t.noLogScale=location.search.includes("autolog=false"),t.config.linearCharts.forEach(function(i){t.config.chartConfig[i].opts.legendTemplate=t.config.linearLegend}),t.config.circularCharts.forEach(function(i){t.config.chartConfig[i].opts.legendTemplate=t.config.circularLegend}),Object.assign(Chart.defaults.global,{animation:!1,responsive:!0}),$(".modal-chart-type a").on("click",function(i){t.chartType=$(i.currentTarget).data("type"),t.autoChartType=!1,$(".logarithmic-scale").toggle(t.isLogarithmicCapable()),$(".begin-at-zero").toggle(t.config.linearCharts.includes(t.chartType)),"true"===t.rememberChart&&t.setLocalStorage("pageviews-chart-preference",t.chartType),t.isChartApp()?t.updateChart(t.pageViewsData):t.renderData()}),$(t.config.logarithmicCheckbox).on("click",function(){t.autoLogDetection="false",t.isChartApp()?t.updateChart(t.pageViewsData):t.renderData()}),$(t.config.logarithmicCheckbox).on("change",function(){$(".begin-at-zero").toggleClass("disabled",t.checked)}),"true"===t.beginAtZero&&$(".begin-at-zero-option").prop("checked",!0),$(".begin-at-zero-option").on("click",function(){t.isChartApp()?t.updateChart(t.pageViewsData):t.renderData()}),$(".download-png").on("click",t.exportPNG.bind(t)),$(".print-chart").on("click",t.printChart.bind(t)),t):n(t)}return s(e,i),k(e,[{key:"setInitialChartType",value:function(){var i=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1;"true"===this.rememberChart?this.chartType=this.getFromLocalStorage("pageviews-chart-preference")||this.config.defaults.chartType(i):this.chartType=this.config.defaults.chartType(i)}},{key:"destroyChart",value:function(){this.chartObj&&(this.chartObj.destroy(),$(".chart-legend").html(""))}},{key:"exportCSV",value:function(){var i="data:text/csv;charset=utf-8,Date,",e=[],t=[],o=this.getDateHeadings(!1);o.forEach(function(i,e){t[e]=[i]}),this.chartObj.data.datasets.forEach(function(i){var r='"'+i.label.replace(/"/g,'""')+'"';e.push(r),o.forEach(function(e,o){t[o].push(i.data[o])})}),i=i+e.join(",")+"\n",t.forEach(function(e){i+=e.join(",")+"\n"}),this.downloadData(i,"csv")}},{key:"exportJSON",value:function(){var i=this,e=[];this.chartObj.data.datasets.forEach(function(t,o){var r={page:t.label.replace(/"/g,'"').replace(/'/g,"'"),color:t.strokeColor,sum:t.sum,daily_average:Math.round(t.sum/i.numDaysInRange())};i.getDateHeadings(!1).forEach(function(i,e){r[i.replace(/\\/,"")]=t.data[e]}),e.push(r)});var t="data:text/json;charset=utf-8,"+JSON.stringify(e);this.downloadData(t,"json")}},{key:"exportPNG",value:function(){this.downloadData(this.chartObj.toBase64Image(),"png")}},{key:"fillInZeros",value:function(i,e,t){var o=this,a={};i.items.forEach(function(i){var e=moment(i.timestamp,o.config.timestampFormat);a[e]=i}),i.items=[];for(var n=moment(e);n<=t;n.add(1,"d"))if(a[n])i.items.push(a[n]);else{var s=n.isSame(this.config.maxDate)||n.isSame(moment(this.config.maxDate).subtract(1,"days"));i.items.push(r({timestamp:n.format(this.config.timestampFormat)},this.isPageviews()?"views":"devices",s?null:0))}return i}},{key:"buildChartData",value:function(i){var e=this,t=$(this.config.select2Input).val();return i.map(function(i,r){var a=i.map(function(i){return e.isPageviews()?i.views:i.devices}),n=a.reduce(function(i,e){return i+e}),s=Math.round(n/a.length),k=Math.max.apply(Math,o(a)),c=Math.min.apply(Math,o(a)),w=e.config.colors[r%10],g=t[r].descore(),u=e.entityInfo?e.entityInfo[g]:{};return i=Object.assign({label:g,data:a,value:n,sum:n,average:s,max:k,min:c,color:w},e.config.chartConfig[e.chartType].dataset(w),u),e.isLogarithmic()&&(i.data=i.data.map(function(i){return i||null})),i})}},{key:"getApiUrl",value:function(i,e,t){var o=encodeURIComponent(i);return"siteviews"===this.app?this.isPageviews()?"https://wikimedia.org/api/rest_v1/metrics/pageviews/aggregate/"+o+("/"+$(this.config.platformSelector).val()+"/"+$(this.config.agentSelector).val()+"/daily")+("/"+e.format(this.config.timestampFormat)+"/"+t.format(this.config.timestampFormat)):"https://wikimedia.org/api/rest_v1/metrics/unique-devices/"+o+"/"+$(this.config.platformSelector).val()+"/daily"+("/"+e.format(this.config.timestampFormat)+"/"+t.format(this.config.timestampFormat)):"https://wikimedia.org/api/rest_v1/metrics/pageviews/per-article/"+this.project+("/"+$(this.config.platformSelector).val()+"/"+$(this.config.agentSelector).val()+"/"+o+"/daily")+("/"+e.format(this.config.timestampFormat)+"/"+t.format(this.config.timestampFormat));
}},{key:"getPageViewsData",value:function(i){var e=this,t=$.Deferred(),o=0,r={},a=i.length,n=[],s={entities:i,labels:[],datasets:[],errors:[],fatalErrors:[],promises:[]},k=function i(k,c){var w=e.daterangepicker.startDate.startOf("day"),g=e.daterangepicker.endDate.startOf("day"),u=e.getApiUrl(k,w,g),l=$.ajax({url:u,dataType:"json"});s.promises.push(l),l.done(function(i){try{i=e.fillInZeros(i,w,g),s.datasets.push(i.items),i.items&&!s.labels.length&&(s.labels=i.items.map(function(i){return moment(i.timestamp,e.config.timestampFormat).format(e.dateFormat)}))}catch(i){return s.fatalErrors.push(i)}}).fail(function(t){var o="Error in Cassandra table storage backend"===t.responseJSON.title;if(o&&(r[k]?r[k]++:r[k]=1,r[k]<3))return a++,e.rateLimit(i,e.config.apiThrottle,e)(k,c);if(s.entities=s.entities.filter(function(i){return i!==k}),o)n.push(k);else{var w="siteviews"===e.app?e.getSiteLink(k):e.getPageLink(k,e.project);s.errors.push(w+": "+$.i18n("api-error","Pageviews API")+" - "+t.responseJSON.title)}}).always(function(){++o===a&&(e.pageViewsData=s,t.resolve(s),n.length&&e.writeMessage($.i18n("api-error-timeout","<ul>"+n.map(function(i){return"<li>"+e.getPageLink(i,e.project.escape())+"</li>"}).join("")+"</ul>")))})};return i.forEach(function(i,e){return k(i,e)}),t}},{key:"getPermaLink",value:function(){var i=this.getParams(!1);return delete i.range,i}},{key:"isLogarithmic",value:function(){return $(this.config.logarithmicCheckbox).is(":checked")&&this.isLogarithmicCapable()}},{key:"isLogarithmicCapable",value:function(){return["line","bar"].includes(this.chartType)}},{key:"isPageviews",value:function(){return"pageviews"===this.app||"pageviews"===$(this.config.dataSourceSelector).val()}},{key:"isUniqueDevices",value:function(){return!this.isPageviews()}},{key:"printChart",value:function(){var i=window.open();i.document.write('<img src="'+this.chartObj.toBase64Image()+'" />'),i.print(),i.close()}},{key:"resetView",value:function(){var i=arguments.length>0&&void 0!==arguments[0]&&arguments[0];try{this.destroyChart(),i&&this.resetSelect2()}catch(i){}finally{this.stopSpinny(),$(".data-links").addClass("invisible"),$(this.config.chart).hide(),this.clearMessages()}}},{key:"setChartPointDetectionRadius",value:function(){"line"===this.chartType&&(this.numDaysInRange()>50?Chart.defaults.global.elements.point.hitRadius=3:this.numDaysInRange()>30?Chart.defaults.global.elements.point.hitRadius=5:this.numDaysInRange()>20?Chart.defaults.global.elements.point.hitRadius=10:Chart.defaults.global.elements.point.hitRadius=30)}},{key:"shouldBeLogarithmic",value:function(i){var e;if(!this.isLogarithmicCapable()||this.noLogScale)return!1;var t=[];i.forEach(function(i){t.push(i.map(function(i){return i||0}))});var r=Math.max.apply(Math,o((e=[]).concat.apply(e,t)));if(r<=10)return!1;var a=!1;return t.forEach(function(i){i.push(r);var e=i.reduce(function(i,e){return i+e}),t=e/i.length,o=0;if(i.forEach(function(i){return o+=i?i*Math.log(i/t):0}),o/e>.5)return a=!0}),a}},{key:"setupDateRangeSelector",value:function(){var i=this;if(c(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"setupDateRangeSelector",this).call(this),this.isChartApp()){var t=$(this.config.dateRangeSelector);$(".date-latest a").on("click",function(e){i.setSpecialRange("latest-"+$(e.target).data("value"))}),t.on("change",function(e){i.setChartPointDetectionRadius(),i.processInput(),i.specialRange&&i.specialRange.value!==e.target.value&&(i.specialRange=null)})}}},{key:"updateChart",value:function(i){var e=this;if($(".chart-legend").html(""),!this.showErrors(i)){if(!i.entities.length)return this.stopSpinny();if(1===i.entities.length?$(".multi-page-chart-node").hide():$(".multi-page-chart-node").show(),this.outputData=this.buildChartData(i.datasets,i.entities),"true"===this.autoLogDetection){var t=this.shouldBeLogarithmic(this.outputData.map(function(i){return i.data}));$(this.config.logarithmicCheckbox).prop("checked",t),$(".begin-at-zero").toggleClass("disabled",t)}var o=Object.assign({scales:{}},this.config.chartConfig[this.chartType].opts,this.config.globalChartOpts);this.isLogarithmic()&&(o.scales=Object.assign({},o.scales,{yAxes:[{type:"logarithmic",ticks:{callback:function(i,t,o){var r=i/Math.pow(10,Math.floor(Chart.helpers.log10(i)));return 1===r||2===r||5===r||0===t||t===o.length-1?e.formatNumber(i):""}}}]})),this.stopSpinny();try{$(".chart-container").html("").append("<canvas class='aqs-chart'>"),this.setChartPointDetectionRadius();var r=$(this.config.chart)[0].getContext("2d");if(this.config.linearCharts.includes(this.chartType)){var a={labels:i.labels,datasets:this.outputData};"radar"===this.chartType?o.scale.ticks.beginAtZero=$(".begin-at-zero-option").is(":checked"):o.scales.yAxes[0].ticks.beginAtZero=$(".begin-at-zero-option").is(":checked"),this.chartObj=new Chart(r,{type:this.chartType,data:a,options:o})}else this.chartObj=new Chart(r,{type:this.chartType,data:{labels:this.outputData.map(function(i){return i.label}),datasets:[{data:this.outputData.map(function(i){return i.value}),backgroundColor:this.outputData.map(function(i){return i.backgroundColor}),hoverBackgroundColor:this.outputData.map(function(i){return i.hoverBackgroundColor}),averages:this.outputData.map(function(i){return i.average})}]},options:o})}catch(i){return this.showErrors({errors:[],fatalErrors:[i]})}$(".chart-legend").html(this.chartObj.generateLegend()),$(".data-links").removeClass("invisible"),"pageviews"===this.app&&this.updateTable()}}},{key:"showErrors",value:function(i){var e=this;if(i.fatalErrors.length){this.resetView(!0);var t=i.fatalErrors.unique();return this.showFatalErrors(t),!0}return i.errors.length&&(!i.entities||i.errors.length!==i.entities.length&&i.entities.length||this.resetView(),i.errors.unique().forEach(function(i){return e.writeMessage(i)})),!1}}]),e}(i)};e.exports=w},{}],4:[function(i,e,t){"use strict";function o(i,e){if(!(i instanceof e))throw new TypeError("Cannot call a class as a function")}var r=function(){function i(i,e){for(var t=0;t<e.length;t++){var o=e[t];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(i,o.key,o)}}return function(e,t,o){return t&&i(e.prototype,t),o&&i(e,o),e}}();String.prototype.descore=function(){return this.replace(/_/g," ")},String.prototype.score=function(){return this.replace(/ /g,"_")},String.prototype.upcase=function(){return this.charAt(0).toUpperCase()+this.slice(1)},String.prototype.escape=function(){var i={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;","/":"&#x2F;"};return this.replace(/[&<>"'\/]/g,function(e){return i[e]})},Array.prototype.unique=function(){return this.filter(function(i,e,t){return t.indexOf(i)===e})},window.mix=function(i){return new a(i)};var a=function(){function i(e){o(this,i),this.superclass=e}return r(i,[{key:"with",value:function(){for(var i=arguments.length,e=Array(i),t=0;t<i;t++)e[t]=arguments[t];return e.reduce(function(i,e){return e(i)},this.superclass)}}]),i}();"undefined"!=typeof Chart&&(Chart.Controller.prototype.getElementsAtEvent=function(i){var e=Chart.helpers,t=e.getRelativePosition(i,this.chart),o=[],r=function(){if(this.data.datasets)for(var i=0;i<this.data.datasets.length;i++)for(var e=Object.keys(this.data.datasets[i]._meta)[0],o=0;o<this.data.datasets[i]._meta[e].data.length;o++)if(this.data.datasets[i]._meta[e].data[o].inLabelRange(t.x,t.y))return this.data.datasets[i]._meta[e].data[o]}.call(this);return r?(e.each(this.data.datasets,function(i,e){var t=Object.keys(i._meta)[0];o.push(i._meta[t].data[r._index])}),o):o}),$.whenAll=function(){var i=$.Deferred(),e=0,t="resolved",o=new(Function.prototype.bind.apply(Array,[null].concat(Array.prototype.slice.call(arguments)))),r=function(){"rejected"===this.state&&(t="rejected"),e++,e===o.length&&i["rejected"===t?"reject":"resolve"]()};return $.each(o,function(i,e){e.always(r)}),i.promise()}},{}],5:[function(i,e,t){"use strict";function o(i,e){if(!(i instanceof e))throw new TypeError("Cannot call a class as a function")}function r(i,e){if(!i)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?i:e}function a(i,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);i.prototype=Object.create(e&&e.prototype,{constructor:{value:i,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(i,e):i.__proto__=e)}var n=function(){function i(i,e){for(var t=0;t<e.length;t++){var o=e[t];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(i,o.key,o)}}return function(e,t,o){return t&&i(e.prototype,t),o&&i(e,o),e}}(),s=function(i){return function(i){function e(i){return o(this,e),r(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,i))}return a(e,i),n(e,[{key:"assignOutputDataChartOpts",value:function(){var i=this.config.colors[0];Object.assign(this.outputData.datasets[0],this.config.chartConfig[this.chartType].dataset(i)),"line"===this.chartType&&(this.outputData.datasets[0].fillColor=i.replace(/,\s*\d\)/,", 0.2)"))}},{key:"exportJSON",value:function(){var i="data:text/json;charset=utf-8,"+JSON.stringify(this.outputData.listData);this.downloadData(i,"json")}},{key:"fillInZeros",value:function(i,e,t){var o=this,r={};i.forEach(function(i){var e=moment(i.timestamp,o.config.timestampFormat);r[e]=i});for(var a=[],n=[],s=moment(e);s<=t;s.add(1,"d"))if(r[s])a.push(r[s]);else{var k=s.isSame(this.config.maxDate)||s.isSame(moment(this.config.maxDate).subtract(1,"days"));a.push({timestamp:s.format(this.config.timestampFormat),views:k?null:0}),k&&n.push(s.format())}return[a,n]}},{key:"getCacheKey",value:function(){return"pv-cache-"+this.hashCode(this.app+JSON.stringify(this.getParams(!0)))}},{key:"getPageviewsURL",value:function(i,e){var t=moment(this.daterangepicker.startDate),o=moment(this.daterangepicker.endDate),r=$(this.config.platformSelector).val();return 0===o.diff(t,"days")&&(t.subtract(3,"days"),o.add(3,"days")),"/pageviews?start="+t.format("YYYY-MM-DD")+("&end="+o.format("YYYY-MM-DD")+"&project="+i+"&platform="+r+"&pages="+e)}},{key:"getPermaLink",value:function(){var i=this.getParams(!0);return i.sort=this.sort,i.direction=this.direction,i}},{key:"getState",value:function(){var i=$("main")[0].classList;return this.config.formStates.filter(function(e){return i.contains(e)})[0]}},{key:"isRequestCached",value:function(){return simpleStorage.hasKey(this.getCacheKey())}},{key:"renderData",value:function(i){var e=this,t=this.outputData.listData,o=t.sort(function(i,t){var o=e.getSortProperty(i,e.sort),r=e.getSortProperty(t,e.sort);return o<r?e.direction:o>r?-e.direction:0});$(".sort-link span").removeClass("glyphicon-sort-by-alphabet-alt glyphicon-sort-by-alphabet").addClass("glyphicon-sort");var r=1===parseInt(this.direction,10)?"glyphicon-sort-by-alphabet-alt":"glyphicon-sort-by-alphabet";$(".sort-link--"+this.sort+" span").addClass(r).removeClass("glyphicon-sort");try{i(o)}catch(i){this.setState("complete"),this.showFatalErrors([i])}finally{this.pushParams()}this.toggleView(this.view),"complete"!==this.getState()&&this.setState("complete")}},{key:"toggleView",value:function(i){var e=this;if($(".view-btn").removeClass("active"),$(".view-btn--"+i).addClass("active"),$("output").removeClass("list-mode").removeClass("chart-mode").addClass(i+"-mode"),"chart"===i){this.destroyChart(),this.config.circularCharts.includes(this.chartType)&&(this.chartType="bar");var t=Object.assign({},this.config.chartConfig[this.chartType].opts,this.config.globalChartOpts);if(this.assignOutputDataChartOpts(),this.setChartPointDetectionRadius(),"true"===this.autoLogDetection){var o=this.shouldBeLogarithmic([this.outputData.datasets[0].data]);$(this.config.logarithmicCheckbox).prop("checked",o)}this.isLogarithmic()&&(t.scales=Object.assign({},t.scales,{yAxes:[{type:"logarithmic",ticks:{callback:function(i,t,o){var r=i/Math.pow(10,Math.floor(Chart.helpers.log10(i)));return 1===r||2===r||5===r||0===t||t===o.length-1?e.formatNumber(i):""}}}]})),"radar"===this.chartType?t.scale.ticks.beginAtZero=$(".begin-at-zero-option").is(":checked"):t.scales.yAxes[0].ticks.beginAtZero=$(".begin-at-zero-option").is(":checked");var r=$(this.config.chart)[0].getContext("2d");this.chartObj=new Chart(r,{type:this.chartType,data:this.outputData,options:t}),$(".chart-specific").show(),$("#chart-legend").html(this.chartObj.generateLegend())}else $(".chart-specific").hide();this.pushParams()}},{key:"updateProgressBar",value:function(i,e){if(!e)return $(".progress-bar").css("width","0%"),$(".progress-counter").text("");var t=i/e*100;$(".progress-bar").css("width",t.toFixed(2)+"%"),i===e?$(".progress-counter").text("Building dataset..."):$(".progress-counter").text($.i18n("processing-page",i,e))}}]),e}(i)};e.exports=s},{}],6:[function(i,e,t){"use strict";Array.prototype.includes||(Array.prototype.includes=function(i){return this.indexOf(i)!==-1}),String.prototype.includes||(String.prototype.includes=function(i,e){return"number"!=typeof e&&(e=0),!(e+i.length>this.length)&&this.indexOf(i,e)!==-1}),"function"!=typeof Object.assign&&!function(){Object.assign=function(i){if(void 0===i||null===i)throw new TypeError("Cannot convert undefined or null to object");for(var e=Object(i),t=1;t<arguments.length;t++){var o=arguments[t];if(void 0!==o&&null!==o)for(var r in o)o.hasOwnProperty(r)&&(e[r]=o[r])}return e}}(),"remove"in Element.prototype||(Element.prototype.remove=function(){this.parentNode.removeChild(this)}),String.prototype.startsWith||(String.prototype.startsWith=function(i,e){return e=e||0,this.substr(e,i.length)===i}),Array.of||(Array.of=function(){return Array.prototype.slice.call(arguments)}),Array.prototype.find||(Array.prototype.find=function(i){if(null===this)throw new TypeError("Array.prototype.find called on null or undefined");if("function"!=typeof i)throw new TypeError("predicate must be a function");for(var e=Object(this),t=e.length>>>0,o=arguments[1],r=void 0,a=0;a<t;a++)if(r=e[a],i.call(o,r,a,e))return r}),Array.prototype.fill||(Array.prototype.fill=function(i){if(null===this)throw new TypeError("this is null or not defined");for(var e=Object(this),t=e.length>>>0,o=arguments[1],r=o>>0,a=r<0?Math.max(t+r,0):Math.min(r,t),n=arguments[2],s=void 0===n?t:n>>0,k=s<0?Math.max(t+s,0):Math.min(s,t);a<k;)e[a]=i,a++;return e})},{}],7:[function(i,e,t){"use strict";function o(i,e,t){return e in i?Object.defineProperty(i,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):i[e]=t,i}function r(i,e){if(!(i instanceof e))throw new TypeError("Cannot call a class as a function")}function a(i,e){if(!i)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?i:e}function n(i,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);i.prototype=Object.create(e&&e.prototype,{constructor:{value:i,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(i,e):i.__proto__=e)}var s=function(){function i(i,e){var t=[],o=!0,r=!1,a=void 0;try{for(var n,s=i[Symbol.iterator]();!(o=(n=s.next()).done)&&(t.push(n.value),!e||t.length!==e);o=!0);}catch(i){r=!0,a=i}finally{try{!o&&s.return&&s.return()}finally{if(r)throw a}}return t}return function(e,t){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return i(e,t);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),k=function(){function i(i,e){for(var t=0;t<e.length;t++){var o=e[t];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(i,o.key,o)}}return function(e,t,o){return t&&i(e.prototype,t),o&&i(e,o),e}}();i("./core_extensions"),i("./polyfills");var c=i("./pv_config"),w=i("./site_map"),g=Object.keys(w).map(function(i){return w[i]}),u=function(i){function e(i){r(this,e);var t=a(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,i)),n=t.config.defaults,s=t.config.validParams;if(t.config=Object.assign({},t.config,i),t.config.defaults=Object.assign({},n,i.defaults),t.config.validParams=Object.assign({},s,i.validParams),t.colorsStyleEl=void 0,t.storage={},["localizeDateFormat","numericalFormatting","bezierCurve","autocomplete","autoLogDetection","beginAtZero","rememberChart"].forEach(function(i){t[i]=t.getFromLocalStorage("pageviews-settings-"+i)||t.config.defaults[i]}),t.setupSettingsModal(),t.params=null,t.siteInfo={},t.processStart=null,"localhost"===location.host?window.app=t:t.splash(),t.debug=location.search.includes("debug=true")||"localhost"===location.host,/-test/.test(location.pathname)){var k=location.pathname.replace(/-test\/?/,"");t.addSiteNotice("warning","This is a staging environment. For the actual "+document.title+",\n         see <a href='"+k+"'>"+location.hostname+k+"</a>")}var c=o({},i18nLang,"/pageviews/messages/"+i18nLang+".json");return"en"!==i18nLang&&(c.en="/pageviews/messages/en.json"),$.i18n({locale:i18nLang}).load(c).then(t.initialize.bind(t)),toastr.options={closeButton:!0,debug:"localhost"===location.host,newestOnTop:!1,progressBar:!1,positionClass:"toast-top-center",preventDuplicates:!0,onclick:null,showDuration:"300",hideDuration:"1000",timeOut:"5000",extendedTimeOut:"3000",showEasing:"swing",hideEasing:"linear",showMethod:"fadeIn",hideMethod:"fadeOut",toastClass:"alert",iconClasses:{error:"alert-danger",info:"alert-info",success:"alert-success",warning:"alert-warning"}},t}return n(e,i),k(e,[{key:"addSiteNotice",value:function(i,e,t,o){t=t?"<strong>"+t+"</strong> ":"";var r=t+e;this.writeMessage(r,i,o?1e4:0)}},{key:"addInvalidParamNotice",value:function(i){var e="<a href='/"+this.app+"/url_structure'>"+$.i18n("documentation")+"</a>";this.addSiteNotice("error",$.i18n("param-error-3",i,e),$.i18n("invalid-params"),!0)}},{key:"validateDateRange",value:function(i){if(i.range)this.setSpecialRange(i.range)||(this.addInvalidParamNotice("range"),this.setSpecialRange(this.config.defaults.dateRange));else if(i.start){var e=/\d{4}-\d{2}-\d{2}$/,t=void 0,o=void 0;if(!i.start||!e.test(i.start))return this.addInvalidParamNotice("start"),!1;if(t=moment(i.start),!i.end||!e.test(i.end))return this.addInvalidParamNotice("end"),!1;if(o=moment(i.end),t<this.config.minDate||o<this.config.minDate)return this.addSiteNotice("error",$.i18n("param-error-1",moment(this.config.minDate).format(this.dateFormat)),$.i18n("invalid-params"),!0),!1;if(t>o)return this.addSiteNotice("error",$.i18n("param-error-2"),$.i18n("invalid-params"),!0),!1;this.daterangepicker.startDate=t,this.daterangepicker.setEndDate(o)}else this.setSpecialRange(this.config.defaults.dateRange);return!0}},{key:"clearSiteNotices",value:function(){$(".site-notice").html("")}},{key:"clearMessages",value:function(){$(".message-container").html("")}},{key:"dbName",value:function(i){return Object.keys(w).find(function(e){return w[e]===i.replace(/\.org$/,"")+".org"})}},{key:"downloadData",value:function(i,e){var t=encodeURI(i),o=document.createElement("a");if("string"==typeof o.download){document.body.appendChild(o);var r=this.getExportFilename()+"."+e;o.download=r,o.href=t,o.click(),document.body.removeChild(o)}else window.open(t)}},{key:"fillInSettings",value:function(){var i=this;$.each($("#settings-modal input"),function(e,t){"checkbox"===t.type?t.checked="true"===i[t.name]:t.checked=i[t.name]===t.value})}},{key:"focusSelect2",value:function(){$(".select2-selection").trigger("click"),$(".select2-search__field").focus()}},{key:"formatNumber",value:function(i){var e=this.getFromLocalStorage("pageviews-settings-numericalFormatting")||this.config.defaults.numericalFormatting;return"true"===e?this.n(i):i}},{key:"formatYAxisNumber",value:function(i){return i%1===0?this.formatNumber(i):null}},{key:"getDateHeadings",value:function(i){for(var e=[],t=moment(this.daterangepicker.endDate).add(1,"d"),o=moment(this.daterangepicker.startDate);o.isBefore(t);o.add(1,"d"))i?e.push(o.format(this.dateFormat)):e.push(o.format("YYYY-MM-DD"));return e}},{key:"getExpandedPageURL",value:function(i){return"//"+this.project+".org/w/index.php?title="+encodeURIComponent(i.score()).replace(/'/,escape)}},{key:"getExportFilename",value:function(){var i=this.daterangepicker.startDate.startOf("day").format("YYYYMMDD"),e=this.daterangepicker.endDate.startOf("day").format("YYYYMMDD");return this.app+"-"+i+"-"+e}},{key:"getPageLink",value:function(i,e){return'<a target="_blank" href="'+this.getPageURL(i,e)+'">'+i.descore().escape()+"</a>"}},{key:"getPageURL",value:function(i){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.project;return"//"+e.replace(/\.org$/,"").escape()+".org/wiki/"+i.score().replace(/'/,escape)}},{key:"getSiteLink",value:function(i){return'<a target="_blank" href="//'+i+'.org">'+i+"</a>"}},{key:"getLocaleDateString",value:function(){if(!navigator.language)return this.config.defaults.dateFormat;var i={"ar-sa":"DD/MM/YY","bg-bg":"DD.M.YYYY","ca-es":"DD/MM/YYYY","zh-tw":"YYYY/M/D","cs-cz":"D.M.YYYY","da-dk":"DD-MM-YYYY","de-de":"DD.MM.YYYY","el-gr":"D/M/YYYY","en-us":"M/D/YYYY","fi-fi":"D.M.YYYY","fr-fr":"DD/MM/YYYY","he-il":"DD/MM/YYYY","hu-hu":"YYYY. MM. DD.","is-is":"D.M.YYYY","it-it":"DD/MM/YYYY","ja-jp":"YYYY/MM/DD","ko-kr":"YYYY-MM-DD","nl-nl":"D-M-YYYY","nb-no":"DD.MM.YYYY","pl-pl":"YYYY-MM-DD","pt-br":"D/M/YYYY","ro-ro":"DD.MM.YYYY","ru-ru":"DD.MM.YYYY","hr-hr":"D.M.YYYY","sk-sk":"D. M. YYYY","sq-al":"YYYY-MM-DD","sv-se":"YYYY-MM-DD","th-th":"D/M/YYYY","tr-tr":"DD.MM.YYYY","ur-pk":"DD/MM/YYYY","id-id":"DD/MM/YYYY","uk-ua":"DD.MM.YYYY","be-by":"DD.MM.YYYY","sl-si":"D.M.YYYY","et-ee":"D.MM.YYYY","lv-lv":"YYYY.MM.DD.","lt-lt":"YYYY.MM.DD","fa-ir":"MM/DD/YYYY","vi-vn":"DD/MM/YYYY","hy-am":"DD.MM.YYYY","az-latn-az":"DD.MM.YYYY","eu-es":"YYYY/MM/DD","mk-mk":"DD.MM.YYYY","af-za":"YYYY/MM/DD","ka-ge":"DD.MM.YYYY","fo-fo":"DD-MM-YYYY","hi-in":"DD-MM-YYYY","ms-my":"DD/MM/YYYY","kk-kz":"DD.MM.YYYY","ky-kg":"DD.MM.YY","sw-ke":"M/d/YYYY","uz-latn-uz":"DD/MM YYYY","tt-ru":"DD.MM.YYYY","pa-in":"DD-MM-YY","gu-in":"DD-MM-YY","ta-in":"DD-MM-YYYY","te-in":"DD-MM-YY","kn-in":"DD-MM-YY","mr-in":"DD-MM-YYYY","sa-in":"DD-MM-YYYY","mn-mn":"YY.MM.DD","gl-es":"DD/MM/YY","kok-in":"DD-MM-YYYY","syr-sy":"DD/MM/YYYY","dv-mv":"DD/MM/YY","ar-iq":"DD/MM/YYYY","zh-cn":"YYYY/M/D","de-ch":"DD.MM.YYYY","en-gb":"DD/MM/YYYY","es-mx":"DD/MM/YYYY","fr-be":"D/MM/YYYY","it-ch":"DD.MM.YYYY","nl-be":"D/MM/YYYY","nn-no":"DD.MM.YYYY","pt-pt":"DD-MM-YYYY","sr-latn-cs":"D.M.YYYY","sv-fi":"D.M.YYYY","az-cyrl-az":"DD.MM.YYYY","ms-bn":"DD/MM/YYYY","uz-cyrl-uz":"DD.MM.YYYY","ar-eg":"DD/MM/YYYY","zh-hk":"D/M/YYYY","de-at":"DD.MM.YYYY","en-au":"D/MM/YYYY","es-es":"DD/MM/YYYY","fr-ca":"YYYY-MM-DD","sr-cyrl-cs":"D.M.YYYY","ar-ly":"DD/MM/YYYY","zh-sg":"D/M/YYYY","de-lu":"DD.MM.YYYY","en-ca":"DD/MM/YYYY","es-gt":"DD/MM/YYYY","fr-ch":"DD.MM.YYYY","ar-dz":"DD-MM-YYYY","zh-mo":"D/M/YYYY","de-li":"DD.MM.YYYY","en-nz":"D/MM/YYYY","es-cr":"DD/MM/YYYY","fr-lu":"DD/MM/YYYY","ar-ma":"DD-MM-YYYY","en-ie":"DD/MM/YYYY","es-pa":"MM/DD/YYYY","fr-mc":"DD/MM/YYYY","ar-tn":"DD-MM-YYYY","en-za":"YYYY/MM/DD","es-do":"DD/MM/YYYY","ar-om":"DD/MM/YYYY","en-jm":"DD/MM/YYYY","es-ve":"DD/MM/YYYY","ar-ye":"DD/MM/YYYY","en-029":"MM/DD/YYYY","es-co":"DD/MM/YYYY","ar-sy":"DD/MM/YYYY","en-bz":"DD/MM/YYYY","es-pe":"DD/MM/YYYY","ar-jo":"DD/MM/YYYY","en-tt":"DD/MM/YYYY","es-ar":"DD/MM/YYYY","ar-lb":"DD/MM/YYYY","en-zw":"M/D/YYYY","es-ec":"DD/MM/YYYY","ar-kw":"DD/MM/YYYY","en-ph":"M/D/YYYY","es-cl":"DD-MM-YYYY","ar-ae":"DD/MM/YYYY","es-uy":"DD/MM/YYYY","ar-bh":"DD/MM/YYYY","es-py":"DD/MM/YYYY","ar-qa":"DD/MM/YYYY","es-bo":"DD/MM/YYYY","es-sv":"DD/MM/YYYY","es-hn":"DD/MM/YYYY","es-ni":"DD/MM/YYYY","es-pr":"DD/MM/YYYY","am-et":"D/M/YYYY","tzm-latn-dz":"DD-MM-YYYY","iu-latn-ca":"D/MM/YYYY","sma-no":"DD.MM.YYYY","mn-mong-cn":"YYYY/M/D","gd-gb":"DD/MM/YYYY","en-my":"D/M/YYYY","prs-af":"DD/MM/YY","bn-bd":"DD-MM-YY","wo-sn":"DD/MM/YYYY","rw-rw":"M/D/YYYY","qut-gt":"DD/MM/YYYY","sah-ru":"MM.DD.YYYY","gsw-fr":"DD/MM/YYYY","co-fr":"DD/MM/YYYY","oc-fr":"DD/MM/YYYY","mi-nz":"DD/MM/YYYY","ga-ie":"DD/MM/YYYY","se-se":"YYYY-MM-DD","br-fr":"DD/MM/YYYY","smn-fi":"D.M.YYYY","moh-ca":"M/D/YYYY","arn-cl":"DD-MM-YYYY","ii-cn":"YYYY/M/D","dsb-de":"D. M. YYYY","ig-ng":"D/M/YYYY","kl-gl":"DD-MM-YYYY","lb-lu":"DD/MM/YYYY","ba-ru":"DD.MM.YY","nso-za":"YYYY/MM/DD","quz-bo":"DD/MM/YYYY","yo-ng":"D/M/YYYY","ha-latn-ng":"D/M/YYYY","fil-ph":"M/D/YYYY","ps-af":"DD/MM/YY","fy-nl":"D-M-YYYY","ne-np":"M/D/YYYY","se-no":"DD.MM.YYYY","iu-cans-ca":"D/M/YYYY","sr-latn-rs":"D.M.YYYY","si-lk":"YYYY-MM-DD","sr-cyrl-rs":"D.M.YYYY","lo-la":"DD/MM/YYYY","km-kh":"YYYY-MM-DD","cy-gb":"DD/MM/YYYY","bo-cn":"YYYY/M/D","sms-fi":"D.M.YYYY","as-in":"DD-MM-YYYY","ml-in":"DD-MM-YY","en-in":"DD-MM-YYYY","or-in":"DD-MM-YY","bn-in":"DD-MM-YY","tk-tm":"DD.MM.YY","bs-latn-ba":"D.M.YYYY","mt-mt":"DD/MM/YYYY","sr-cyrl-me":"D.M.YYYY","se-fi":"D.M.YYYY","zu-za":"YYYY/MM/DD","xh-za":"YYYY/MM/DD","tn-za":"YYYY/MM/DD","hsb-de":"D. M. YYYY","bs-cyrl-ba":"D.M.YYYY","tg-cyrl-tj":"DD.MM.yy","sr-latn-ba":"D.M.YYYY","smj-no":"DD.MM.YYYY","rm-ch":"DD/MM/YYYY","smj-se":"YYYY-MM-DD","quz-ec":"DD/MM/YYYY","quz-pe":"DD/MM/YYYY","hr-ba":"D.M.YYYY.","sr-latn-me":"D.M.YYYY","sma-se":"YYYY-MM-DD","en-sg":"D/M/YYYY","ug-cn":"YYYY-M-D","sr-cyrl-ba":"D.M.YYYY","es-us":"M/D/YYYY"},e=navigator.language.toLowerCase();return i[e]||this.config.defaults.dateFormat}},{key:"getFromLocalStorage",value:function(i){try{return localStorage.getItem(i)}catch(e){return storage[i]}}},{key:"getBugReportURL",value:function(i){var e="https://meta.wikimedia.org/w/index.php?title=Talk:Pageviews_Analysis&action=edit"+("&section=new&preloadtitle="+this.app.upcase()+" bug report");return i?e+"&preload=Talk:Pageviews_Analysis/Preload&preloadparams[]="+i:e}},{key:"fetchSiteInfo",value:function(i){var e=this;i=i.replace(/\.org$/,"");var t=$.Deferred(),o="pageviews-siteinfo-"+i;return this.siteInfo[i]?t.resolve(this.siteInfo):(simpleStorage.hasKey(o)?(this.siteInfo[i]=simpleStorage.get(o),t.resolve(this.siteInfo)):$.ajax({url:"https://"+i+".org/w/api.php",data:{action:"query",meta:"siteinfo",siprop:"general|namespaces",format:"json"},dataType:"jsonp"}).done(function(r){e.siteInfo[i]=r.query,simpleStorage.set(o,e.siteInfo[i],{TTL:6048e5}),t.resolve(e.siteInfo)}).fail(function(i){t.reject(i)}),t)}},{key:"getSiteInfo",value:function(i){return this.siteInfo[i.replace(/\.org$/,"")]}},{key:"getUserAgent",value:function(){return navigator.userAgent?navigator.userAgent:"Unknown"}},{key:"setLocalStorage",value:function(i,e){try{return localStorage.setItem(i,e)}catch(t){return storage[i]=e}}},{key:"hashCode",value:function(i){return i.split("").reduce(function(i,e){return(i<<5)-i+e.charCodeAt(0)},0)}},{key:"isChartApp",value:function(){return!this.isListApp()}},{key:"isListApp",value:function(){return["langviews","massviews","redirectviews"].includes(this.app)}},{key:"isMultilangProject",value:function(){return new RegExp(".*?\\.("+e.multilangProjects.join("|")+")").test(this.project)}},{key:"mapNormalizedPageNames",value:function(i,e){return e.forEach(function(e){i=i.map(function(i){return e.from===i?e.to:i})}),i}},{key:"massApi",value:function(i,e){var t=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"continue",o=arguments[3],r=arguments.length>4&&void 0!==arguments[4]?arguments[4]:this.config.apiLimit;/\.org$/.test(e)||(e+=".org");var a=$.Deferred(),n={pages:[]},s=function s(k){var c=Object.assign({action:"query",format:"json",formatversion:"2"},i);k&&(c[t]=k);var w=$.ajax({url:"https://"+e+"/w/api.php",jsonp:"callback",dataType:"jsonp",data:c});w.done(function(i){if(i.error)return a.resolve(i);var e=void 0;"function"==typeof o?(n.pages=n.pages.concat(o(i.query)),e=n.pages.length>=r):(i.query.pages&&(n.pages=n.pages.concat(i.query.pages)),i.query[o]&&(n[o]=(n[o]||[]).concat(i.query[o])),e=n.pages.length>=r||n[o].length>=r),!e&&i.continue&&i.continue[t]?setTimeout(function(){s(i.continue[t])},100):(i.continue&&(n.continue=!0),a.resolve(n))}).fail(function(i){a.reject(i)})};return s(),a}},{key:"n",value:function(i){return new Number(i).toLocaleString()}},{key:"getPageInfo",value:function(i){var e=$.Deferred();return $.ajax({url:"https://"+this.project+".org/w/api.php?action=query&prop=info&inprop=protection|watchers&formatversion=2&format=json&titles="+i.join("|"),dataType:"jsonp"}).then(function(i){var t={};return i.query.pages.forEach(function(i){t[i.title]=i}),e.resolve(t)})}},{key:"numDaysInRange",value:function(){return this.daterangepicker.endDate.diff(this.daterangepicker.startDate,"days")+1}},{key:"parseQueryString",value:function(i){for(var e=decodeURI(location.search.slice(1)),t=e.split("&"),o={},r=0;r<t.length;r++){var a=t[r].split("=");i&&a[0]===i?o[i]=a[1].split("|").filter(function(i){return!!i}).unique():o[a[0]]=a[1]}return o}},{key:"patchUsage",value:function(i){metaRoot&&$.ajax({url:"//"+metaRoot+"/usage/"+this.app+"/"+(this.project||i18nLang),method:"PATCH"})}},{key:"processStarted",value:function(){return this.processStart=moment()}},{key:"processEnded",value:function(){var i=moment(),e=i.diff(this.processStart,"milliseconds");try{$(".elapsed-time").attr("datetime",i.format()).text($.i18n("elapsed-time",e/1e3))}catch(i){}return e}},{key:"rateLimit",value:function(i,e,t){var o=[],r=void 0,a=function(){var e=o.shift();e&&i.apply(e.context,e.arguments),0===o.length&&(clearInterval(r),r=null)};return function(){o.push({context:t||this,arguments:[].slice.call(arguments)}),r||(a(),r=setInterval(a,e))}}},{key:"resetSelect2",value:function(){var i=$(this.config.select2Input);i.off("change"),i.select2("val",null),i.select2("data",null),i.select2("destroy"),this.setupSelect2()}},{key:"rgba",value:function(i,e){return i.replace(/,\s*\d\)/,", "+e+")")}},{key:"saveSetting",value:function(i,e){this[i]=e,this.setLocalStorage("pageviews-settings-"+i,e)}},{key:"saveSettings",value:function(){var i=this,e="no_autocomplete"===this.autocomplete;$.each($("#settings-modal input"),function(e,t){"checkbox"===t.type?i.saveSetting(t.name,t.checked?"true":"false"):t.checked&&i.saveSetting(t.name,t.value)}),"topviews"!==this.app&&(this.daterangepicker.locale.format=this.dateFormat,this.daterangepicker.updateElement(),this.setupSelect2Colors(),"no_autocomplete"===this.autocomplete!==e&&this.resetSelect2(),"true"===this.beginAtZero&&$(".begin-at-zero-option").prop("checked",!0)),this.processInput(!0)}},{key:"setSelect2Defaults",value:function(i){var e=this;return i.forEach(function(i){var t=$("<div>").text(i).html();$("<option>"+t+"</option>").appendTo(e.config.select2Input)}),$(this.config.select2Input).select2("val",i),$(this.config.select2Input).select2("close"),i}},{key:"setSpecialRange",value:function(i){var e=Object.keys(this.config.specialRanges).indexOf(i),t=void 0,o=void 0;if(i.includes("latest-")){var r=parseInt(i.replace("latest-",""),10)||20,a=this.config.specialRanges.latest(r),n=s(a,2);t=n[0],o=n[1]}else{if(!(e>=0))return;var k="latest"===i?this.config.specialRanges.latest():this.config.specialRanges[i],c=s(k,2);t=c[0],o=c[1],$(".daterangepicker .ranges li").eq(e).trigger("click")}return this.specialRange={range:i,value:t.format(this.dateFormat)+" - "+o.format(this.dateFormat)},this.daterangepicker.startDate=t,this.daterangepicker.setEndDate(o),this.specialRange}},{key:"setupSelect2Colors",value:function(){var i=this;return this.colorsStyleEl&&this.colorsStyleEl.remove(),this.colorsStyleEl=document.createElement("style"),this.colorsStyleEl.appendChild(document.createTextNode("")),document.head.appendChild(this.colorsStyleEl),this.config.colors.forEach(function(e,t){i.colorsStyleEl.sheet.insertRule(".select2-selection__choice:nth-of-type("+(t+1)+") { background: "+e+" !important }",0)}),this.colorsStyleEl.sheet}},{key:"setupListeners",value:function(){var i=this;$("a[href='#']").on("click",function(i){return i.preventDefault()}),$(".download-csv").on("click",this.exportCSV.bind(this)),$(".download-json").on("click",this.exportJSON.bind(this)),
$(this.config.projectInput).on("focusin",function(){this.dataset.value=this.value}),$(this.config.projectInput).on("change",function(e){return i.validateProject(e)})}},{key:"setupSettingsModal",value:function(){this.fillInSettings(),$(".save-settings-btn").on("click",this.saveSettings.bind(this)),$(".cancel-settings-btn").on("click",this.fillInSettings.bind(this))}},{key:"setupDateRangeSelector",value:function(){var i=this,e=$(this.config.dateRangeSelector),t={};Object.keys(this.config.specialRanges).forEach(function(e){"latest"!==e&&(t[$.i18n(e)]=i.config.specialRanges[e])});var o={locale:{format:this.dateFormat,applyLabel:$.i18n("apply"),cancelLabel:$.i18n("cancel"),customRangeLabel:$.i18n("custom-range"),daysOfWeek:[$.i18n("su"),$.i18n("mo"),$.i18n("tu"),$.i18n("we"),$.i18n("th"),$.i18n("fr"),$.i18n("sa")],monthNames:[$.i18n("january"),$.i18n("february"),$.i18n("march"),$.i18n("april"),$.i18n("may"),$.i18n("june"),$.i18n("july"),$.i18n("august"),$.i18n("september"),$.i18n("october"),$.i18n("november"),$.i18n("december")]},startDate:moment().subtract(this.config.daysAgo,"days"),minDate:this.config.minDate,maxDate:this.config.maxDate,ranges:t};this.config.dateLimit&&(o.dateLimit={days:this.config.dateLimit}),e.daterangepicker(o),$(".daterangepicker").append($("<div>").addClass("daterange-notice").html($.i18n("date-notice",document.title,"<a href='http://stats.grok.se' target='_blank'>stats.grok.se</a>",$.i18n("july")+" 2015"))),$(".daterangepicker .ranges li").on("click",function(e){var t=$(".daterangepicker .ranges li").index(e.target),o=i.daterangepicker.container,r=o.find(".daterangepicker_input input");i.specialRange={range:Object.keys(i.config.specialRanges)[t],value:r[0].value+" - "+r[1].value}}),$(this.config.dateRangeSelector).on("apply.daterangepicker",function(e,t){t.chosenLabel===$.i18n("custom-range")&&(i.specialRange=null,i.daterangepicker.updateElement())})}},{key:"showFatalErrors",value:function(i){var e=this;if(this.clearMessages(),i.forEach(function(i){e.writeMessage("<strong>"+$.i18n("fatal-error")+"</strong>: <code>"+i+"</code>","error")}),this.debug)throw i[0];i&&i[0]&&i[0].stack&&$.ajax({method:"POST",url:"//tools.wmflabs.org/musikanimal/paste",data:{content:"\ndate:      "+moment().utc().format()+("\ntool:      "+this.app)+("\nlanguage:  "+i18nLang)+("\nchart:     "+this.chartType)+("\nurl:       "+document.location.href)+("\nuserAgent: "+this.getUserAgent())+("\ntrace:     "+i[0].stack),title:"Pageviews Analysis error report: "+i[0]}}).done(function(i){i&&i.result&&i.result.objectName?e.writeMessage($.i18n("error-please-report",e.getBugReportURL(i.result.objectName)),"error"):e.writeMessage($.i18n("error-please-report",e.getBugReportURL()),"error")}).fail(function(){e.writeMessage($.i18n("error-please-report",e.getBugReportURL()),"error")})}},{key:"splash",value:function(){var i="background: #eee; color: #555; padding: 4px; font-family:monospace";console.log("%c      ___            __ _                     _                             ",i),console.log("%c     | _ \\  __ _    / _` |   ___    __ __    (_)     ___   __ __ __  ___    ",i),console.log("%c     |  _/ / _` |   \\__, |  / -_)   \\ V /    | |    / -_)  \\ V  V / (_-<    ",i),console.log("%c    _|_|_  \\__,_|   |___/   \\___|   _\\_/_   _|_|_   \\___|   \\_/\\_/  /__/_   ",i),console.log('%c  _| """ |_|"""""|_|"""""|_|"""""|_|"""""|_|"""""|_|"""""|_|"""""|_|"""""|  ',i),console.log("%c  \"`-0-0-'\"`-0-0-'\"`-0-0-'\"`-0-0-'\"`-0-0-'\"`-0-0-'\"`-0-0-'\"`-0-0-'\"`-0-0-'  ",i),console.log("%c              ___                     _  _     _               _            ",i),console.log("%c      o O O  /   \\   _ _     __ _    | || |   | |     ___     (_)     ___   ",i),console.log("%c     o       | - |  | ' \\   / _` |    \\_, |   | |    (_-<     | |    (_-<   ",i),console.log("%c    TS__[O]  |_|_|  |_||_|  \\__,_|   _|__/   _|_|_   /__/_   _|_|_   /__/_  ",i),console.log('%c   {======|_|"""""|_|"""""|_|"""""|_| """"|_|"""""|_|"""""|_|"""""|_|"""""| ',i),console.log("%c  ./o--000'\"`-0-0-'\"`-0-0-'\"`-0-0-'\"`-0-0-'\"`-0-0-'\"`-0-0-'\"`-0-0-'\"`-0-0-' ",i),console.log("%c                                                                            ",i),console.log("%c  Copyright  "+(new Date).getFullYear()+" MusikAnimal, Kaldari, Marcel Ruiz Forns                  ",i)}},{key:"startSpinny",value:function(){var i=this;$(".chart-container").addClass("loading"),clearTimeout(this.timeout),this.timeout=setTimeout(function(e){i.resetView(),i.writeMessage("<strong>"+$.i18n("fatal-error")+"</strong>:\n        "+$.i18n("error-timed-out")+"\n        "+$.i18n("error-please-report",i.getBugReportURL())+"\n      ","error",0)},2e4)}},{key:"stopSpinny",value:function(){$(".chart-container").removeClass("loading"),clearTimeout(this.timeout)}},{key:"underscorePageNames",value:function(i){return i.map(function(i){return decodeURIComponent(i).score()})}},{key:"updateInterAppLinks",value:function(){var i=this;$(".interapp-link").each(function(e,t){var o=t.href.split("?")[0];t.classList.contains("interapp-link--siteviews")?t.href=o+"?sites="+i.project.escape()+".org":t.href=o+"?project="+i.project.escape()+".org"})}},{key:"validateParams",value:function(i){var e=this;return this.config.validateParams.forEach(function(t){"project"===t&&i.project&&(i.project=i.project.replace(/^www\./,""));var o=e.config.defaults[t],r=i[t];o&&!e.config.validParams[t].includes(r)&&(r&&e.addInvalidParamNotice(t),i[t]=o)}),i}},{key:"validateProject",value:function(){var i=arguments.length>0&&void 0!==arguments[0]&&arguments[0],e=$(this.config.projectInput)[0],t=e.value.replace(/^www\./,""),o=!1;return i&&!this.isMultilangProject()?(this.writeMessage($.i18n("invalid-lang-project","<a href='//"+t.escape()+"'>"+t.escape()+"</a>"),"warning"),t=e.dataset.value):g.includes(t)?(this.clearMessages(),this.updateInterAppLinks(),o=!0):(this.writeMessage($.i18n("invalid-project","<a href='//"+t.escape()+"'>"+t.escape()+"</a>"),"warning"),t=e.dataset.value),e.value=t,o}},{key:"writeMessage",value:function(i){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"warning",t=arguments.length>2&&void 0!==arguments[2]?arguments[2]:5e3;toastr.options.timeOut=t,toastr[e](i)}},{key:"dateFormat",get:function(){return"true"===this.localizeDateFormat?this.getLocaleDateString():this.config.defaults.dateFormat}},{key:"daterangepicker",get:function(){return $(this.config.dateRangeSelector).data("daterangepicker")}},{key:"project",get:function(){var i=$(this.config.projectInput).val();return i?i.toLowerCase().replace(/.org$/,""):null}}],[{key:"multilangProjects",get:function(){return["wikipedia","wikibooks","wikinews","wikiquote","wikisource","wikiversity","wikivoyage"]}}]),e}(c);e.exports=u},{"./core_extensions":4,"./polyfills":6,"./pv_config":8,"./site_map":9}],8:[function(i,e,t){"use strict";function o(i,e){if(!(i instanceof e))throw new TypeError("Cannot call a class as a function")}var r=function(){function i(i,e){for(var t=0;t<e.length;t++){var o=e[t];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(i,o.key,o)}}return function(e,t,o){return t&&i(e.prototype,t),o&&i(e,o),e}}(),a=i("./site_map"),n=Object.keys(a).map(function(i){return a[i]}),s=function(){function i(){var e=this;o(this,i);var t=this,r=function(i){var t=moment(i,e.dateFormat).weekday();return t%7?i:" "+i};this.config={apiLimit:5e3,apiThrottle:20,apps:["pageviews","topviews","langviews","siteviews","massviews","redirectviews"],chartConfig:{line:{opts:{scales:{yAxes:[{ticks:{callback:function(i){return e.formatYAxisNumber(i)}}}],xAxes:[{ticks:{callback:function(i){return r(i)}}}]},legendCallback:function(i){return e.config.chartLegend(t)},tooltips:this.linearTooltips},dataset:function(i){return{color:i,backgroundColor:"rgba(0,0,0,0)",borderWidth:2,borderColor:i,pointColor:i,pointBackgroundColor:i,pointBorderColor:t.rgba(i,.2),pointHoverBackgroundColor:i,pointHoverBorderColor:i,pointHoverBorderWidth:2,pointHoverRadius:5,tension:"true"===t.bezierCurve?.4:0}}},bar:{opts:{scales:{yAxes:[{ticks:{callback:function(i){return e.formatYAxisNumber(i)}}}],xAxes:[{barPercentage:1,categoryPercentage:.85,ticks:{callback:function(i){return r(i)}}}]},legendCallback:function(i){return e.config.chartLegend(t)},tooltips:this.linearTooltips},dataset:function(i){return{color:i,backgroundColor:t.rgba(i,.6),borderColor:t.rgba(i,.9),borderWidth:2,hoverBackgroundColor:t.rgba(i,.75),hoverBorderColor:i}}},radar:{opts:{scale:{ticks:{callback:function(i){return e.formatNumber(i)}}},legendCallback:function(i){return e.config.chartLegend(t)},tooltips:this.linearTooltips},dataset:function(i){return{color:i,backgroundColor:t.rgba(i,.1),borderColor:i,borderWidth:2,pointBackgroundColor:i,pointBorderColor:t.rgba(i,.8),pointHoverBackgroundColor:i,pointHoverBorderColor:i,pointHoverRadius:5}}},pie:{opts:{legendCallback:function(i){return e.config.chartLegend(t)},tooltips:this.circularTooltips},dataset:function(i){return{color:i,backgroundColor:i,hoverBackgroundColor:t.rgba(i,.8)}}},doughnut:{opts:{legendCallback:function(i){return e.config.chartLegend(t)},tooltips:this.circularTooltips},dataset:function(i){return{color:i,backgroundColor:i,hoverBackgroundColor:t.rgba(i,.8)}}},polarArea:{opts:{scale:{ticks:{beginAtZero:!0,callback:function(i){return e.formatNumber(i)}}},legendCallback:function(i){return e.config.chartLegend(t)},tooltips:this.circularTooltips},dataset:function(i){return{color:i,backgroundColor:t.rgba(i,.7),hoverBackgroundColor:t.rgba(i,.9)}}}},circularCharts:["pie","doughnut","polarArea"],colors:["rgba(171, 212, 235, 1)","rgba(178, 223, 138, 1)","rgba(251, 154, 153, 1)","rgba(253, 191, 111, 1)","rgba(202, 178, 214, 1)","rgba(207, 182, 128, 1)","rgba(141, 211, 199, 1)","rgba(252, 205, 229, 1)","rgba(255, 247, 161, 1)","rgba(217, 217, 217, 1)"],defaults:{autocomplete:"autocomplete",chartType:function(i){return i>1?"line":"bar"},dateFormat:"YYYY-MM-DD",localizeDateFormat:"true",numericalFormatting:"true",bezierCurve:"false",autoLogDetection:"true",beginAtZero:"false",rememberChart:"true",agent:"user",platform:"all-access",project:"en.wikipedia.org"},globalChartOpts:{animation:{duration:500,easing:"easeInOutQuart"},hover:{animationDuration:0},legend:{display:!1}},linearCharts:["line","bar","radar"],linearOpts:{scales:{yAxes:[{ticks:{callback:function(i){return e.formatNumber(i)}}}]},legendCallback:function(i){return e.config.chartLegend(i.data.datasets,t)}},daysAgo:20,minDate:moment("2015-07-01").startOf("day"),maxDate:moment().subtract(1,"days").startOf("day"),specialRanges:{"last-week":[moment().subtract(1,"week").startOf("week"),moment().subtract(1,"week").endOf("week")],"this-month":[moment().startOf("month"),moment().subtract(1,"days").startOf("day")],"last-month":[moment().subtract(1,"month").startOf("month"),moment().subtract(1,"month").endOf("month")],latest:function(){var i=arguments.length>0&&void 0!==arguments[0]?arguments[0]:t.config.daysAgo;return[moment().subtract(i,"days").startOf("day"),t.config.maxDate]}},timestampFormat:"YYYYMMDD00",validParams:{agent:["all-agents","user","spider","bot"],platform:["all-access","desktop","mobile-app","mobile-web"],project:n}}}return r(i,[{key:"linearTooltips",get:function(){var i=this;return{mode:"label",callbacks:{label:function(e){return Number.isNaN(e.yLabel)?" "+$.i18n("unknown"):" "+i.formatNumber(e.yLabel)}},bodyFontSize:14,bodySpacing:7,caretSize:0,titleFontSize:14}}},{key:"circularTooltips",get:function(){var i=this;return{callbacks:{label:function e(t,o){var r=o.datasets[t.datasetIndex].data[t.index],e=o.labels[t.index];return Number.isNaN(r)?e+": "+$.i18n("unknown"):e+": "+i.formatNumber(r)}},bodyFontSize:14,bodySpacing:7,caretSize:0,titleFontSize:14}}}]),i}();e.exports=s},{"./site_map":9}],9:[function(i,e,t){"use strict";var o={aawiki:"aa.wikipedia.org",aawiktionary:"aa.wiktionary.org",aawikibooks:"aa.wikibooks.org",abwiki:"ab.wikipedia.org",abwiktionary:"ab.wiktionary.org",acewiki:"ace.wikipedia.org",adywiki:"ady.wikipedia.org",afwiki:"af.wikipedia.org",afwiktionary:"af.wiktionary.org",afwikibooks:"af.wikibooks.org",afwikiquote:"af.wikiquote.org",akwiki:"ak.wikipedia.org",akwiktionary:"ak.wiktionary.org",akwikibooks:"ak.wikibooks.org",alswiki:"als.wikipedia.org",alswiktionary:"als.wiktionary.org",alswikibooks:"als.wikibooks.org",alswikiquote:"als.wikiquote.org",amwiki:"am.wikipedia.org",amwiktionary:"am.wiktionary.org",amwikiquote:"am.wikiquote.org",anwiki:"an.wikipedia.org",anwiktionary:"an.wiktionary.org",angwiki:"ang.wikipedia.org",angwiktionary:"ang.wiktionary.org",angwikibooks:"ang.wikibooks.org",angwikiquote:"ang.wikiquote.org",angwikisource:"ang.wikisource.org",arwiki:"ar.wikipedia.org",arwiktionary:"ar.wiktionary.org",arwikibooks:"ar.wikibooks.org",arwikinews:"ar.wikinews.org",arwikiquote:"ar.wikiquote.org",arwikisource:"ar.wikisource.org",arwikiversity:"ar.wikiversity.org",arcwiki:"arc.wikipedia.org",arzwiki:"arz.wikipedia.org",aswiki:"as.wikipedia.org",aswiktionary:"as.wiktionary.org",aswikibooks:"as.wikibooks.org",aswikisource:"as.wikisource.org",astwiki:"ast.wikipedia.org",astwiktionary:"ast.wiktionary.org",astwikibooks:"ast.wikibooks.org",astwikiquote:"ast.wikiquote.org",avwiki:"av.wikipedia.org",avwiktionary:"av.wiktionary.org",aywiki:"ay.wikipedia.org",aywiktionary:"ay.wiktionary.org",aywikibooks:"ay.wikibooks.org",azwiki:"az.wikipedia.org",azwiktionary:"az.wiktionary.org",azwikibooks:"az.wikibooks.org",azwikiquote:"az.wikiquote.org",azwikisource:"az.wikisource.org",azbwiki:"azb.wikipedia.org",bawiki:"ba.wikipedia.org",bawikibooks:"ba.wikibooks.org",barwiki:"bar.wikipedia.org",bat_smgwiki:"bat-smg.wikipedia.org",bclwiki:"bcl.wikipedia.org",bewiki:"be.wikipedia.org",bewiktionary:"be.wiktionary.org",bewikibooks:"be.wikibooks.org",bewikiquote:"be.wikiquote.org",bewikisource:"be.wikisource.org",be_x_oldwiki:"be-tarask.wikipedia.org",bgwiki:"bg.wikipedia.org",bgwiktionary:"bg.wiktionary.org",bgwikibooks:"bg.wikibooks.org",bgwikinews:"bg.wikinews.org",bgwikiquote:"bg.wikiquote.org",bgwikisource:"bg.wikisource.org",bhwiki:"bh.wikipedia.org",bhwiktionary:"bh.wiktionary.org",biwiki:"bi.wikipedia.org",biwiktionary:"bi.wiktionary.org",biwikibooks:"bi.wikibooks.org",bjnwiki:"bjn.wikipedia.org",bmwiki:"bm.wikipedia.org",bmwiktionary:"bm.wiktionary.org",bmwikibooks:"bm.wikibooks.org",bmwikiquote:"bm.wikiquote.org",bnwiki:"bn.wikipedia.org",bnwiktionary:"bn.wiktionary.org",bnwikibooks:"bn.wikibooks.org",bnwikisource:"bn.wikisource.org",bowiki:"bo.wikipedia.org",bowiktionary:"bo.wiktionary.org",bowikibooks:"bo.wikibooks.org",bpywiki:"bpy.wikipedia.org",brwiki:"br.wikipedia.org",brwiktionary:"br.wiktionary.org",brwikiquote:"br.wikiquote.org",brwikisource:"br.wikisource.org",bswiki:"bs.wikipedia.org",bswiktionary:"bs.wiktionary.org",bswikibooks:"bs.wikibooks.org",bswikinews:"bs.wikinews.org",bswikiquote:"bs.wikiquote.org",bswikisource:"bs.wikisource.org",bugwiki:"bug.wikipedia.org",bxrwiki:"bxr.wikipedia.org",cawiki:"ca.wikipedia.org",cawiktionary:"ca.wiktionary.org",cawikibooks:"ca.wikibooks.org",cawikinews:"ca.wikinews.org",cawikiquote:"ca.wikiquote.org",cawikisource:"ca.wikisource.org",cbk_zamwiki:"cbk-zam.wikipedia.org",cdowiki:"cdo.wikipedia.org",cewiki:"ce.wikipedia.org",cebwiki:"ceb.wikipedia.org",chwiki:"ch.wikipedia.org",chwiktionary:"ch.wiktionary.org",chwikibooks:"ch.wikibooks.org",chowiki:"cho.wikipedia.org",chrwiki:"chr.wikipedia.org",chrwiktionary:"chr.wiktionary.org",chywiki:"chy.wikipedia.org",ckbwiki:"ckb.wikipedia.org",cowiki:"co.wikipedia.org",cowiktionary:"co.wiktionary.org",cowikibooks:"co.wikibooks.org",cowikiquote:"co.wikiquote.org",crwiki:"cr.wikipedia.org",crwiktionary:"cr.wiktionary.org",crwikiquote:"cr.wikiquote.org",crhwiki:"crh.wikipedia.org",cswiki:"cs.wikipedia.org",cswiktionary:"cs.wiktionary.org",cswikibooks:"cs.wikibooks.org",cswikinews:"cs.wikinews.org",cswikiquote:"cs.wikiquote.org",cswikisource:"cs.wikisource.org",cswikiversity:"cs.wikiversity.org",csbwiki:"csb.wikipedia.org",csbwiktionary:"csb.wiktionary.org",cuwiki:"cu.wikipedia.org",cvwiki:"cv.wikipedia.org",cvwikibooks:"cv.wikibooks.org",cywiki:"cy.wikipedia.org",cywiktionary:"cy.wiktionary.org",cywikibooks:"cy.wikibooks.org",cywikiquote:"cy.wikiquote.org",cywikisource:"cy.wikisource.org",dawiki:"da.wikipedia.org",dawiktionary:"da.wiktionary.org",dawikibooks:"da.wikibooks.org",dawikiquote:"da.wikiquote.org",dawikisource:"da.wikisource.org",dewiki:"de.wikipedia.org",dewiktionary:"de.wiktionary.org",dewikibooks:"de.wikibooks.org",dewikinews:"de.wikinews.org",dewikiquote:"de.wikiquote.org",dewikisource:"de.wikisource.org",dewikiversity:"de.wikiversity.org",dewikivoyage:"de.wikivoyage.org",diqwiki:"diq.wikipedia.org",dsbwiki:"dsb.wikipedia.org",dvwiki:"dv.wikipedia.org",dvwiktionary:"dv.wiktionary.org",dzwiki:"dz.wikipedia.org",dzwiktionary:"dz.wiktionary.org",eewiki:"ee.wikipedia.org",elwiki:"el.wikipedia.org",elwiktionary:"el.wiktionary.org",elwikibooks:"el.wikibooks.org",elwikinews:"el.wikinews.org",elwikiquote:"el.wikiquote.org",elwikisource:"el.wikisource.org",elwikiversity:"el.wikiversity.org",elwikivoyage:"el.wikivoyage.org",emlwiki:"eml.wikipedia.org",enwiki:"en.wikipedia.org",enwiktionary:"en.wiktionary.org",enwikibooks:"en.wikibooks.org",enwikinews:"en.wikinews.org",enwikiquote:"en.wikiquote.org",enwikisource:"en.wikisource.org",enwikiversity:"en.wikiversity.org",enwikivoyage:"en.wikivoyage.org",eowiki:"eo.wikipedia.org",eowiktionary:"eo.wiktionary.org",eowikibooks:"eo.wikibooks.org",eowikinews:"eo.wikinews.org",eowikiquote:"eo.wikiquote.org",eowikisource:"eo.wikisource.org",eswiki:"es.wikipedia.org",eswiktionary:"es.wiktionary.org",eswikibooks:"es.wikibooks.org",eswikinews:"es.wikinews.org",eswikiquote:"es.wikiquote.org",eswikisource:"es.wikisource.org",eswikiversity:"es.wikiversity.org",eswikivoyage:"es.wikivoyage.org",etwiki:"et.wikipedia.org",etwiktionary:"et.wiktionary.org",etwikibooks:"et.wikibooks.org",etwikiquote:"et.wikiquote.org",etwikisource:"et.wikisource.org",euwiki:"eu.wikipedia.org",euwiktionary:"eu.wiktionary.org",euwikibooks:"eu.wikibooks.org",euwikiquote:"eu.wikiquote.org",extwiki:"ext.wikipedia.org",fawiki:"fa.wikipedia.org",fawiktionary:"fa.wiktionary.org",fawikibooks:"fa.wikibooks.org",fawikinews:"fa.wikinews.org",fawikiquote:"fa.wikiquote.org",fawikisource:"fa.wikisource.org",fawikivoyage:"fa.wikivoyage.org",ffwiki:"ff.wikipedia.org",fiwiki:"fi.wikipedia.org",fiwiktionary:"fi.wiktionary.org",fiwikibooks:"fi.wikibooks.org",fiwikinews:"fi.wikinews.org",fiwikiquote:"fi.wikiquote.org",fiwikisource:"fi.wikisource.org",fiwikiversity:"fi.wikiversity.org",fiu_vrowiki:"fiu-vro.wikipedia.org",fjwiki:"fj.wikipedia.org",fjwiktionary:"fj.wiktionary.org",fowiki:"fo.wikipedia.org",fowiktionary:"fo.wiktionary.org",fowikisource:"fo.wikisource.org",frwiki:"fr.wikipedia.org",frwiktionary:"fr.wiktionary.org",frwikibooks:"fr.wikibooks.org",frwikinews:"fr.wikinews.org",frwikiquote:"fr.wikiquote.org",frwikisource:"fr.wikisource.org",frwikiversity:"fr.wikiversity.org",frwikivoyage:"fr.wikivoyage.org",frpwiki:"frp.wikipedia.org",frrwiki:"frr.wikipedia.org",furwiki:"fur.wikipedia.org",fywiki:"fy.wikipedia.org",fywiktionary:"fy.wiktionary.org",fywikibooks:"fy.wikibooks.org",gawiki:"ga.wikipedia.org",gawiktionary:"ga.wiktionary.org",gawikibooks:"ga.wikibooks.org",gawikiquote:"ga.wikiquote.org",gagwiki:"gag.wikipedia.org",ganwiki:"gan.wikipedia.org",gdwiki:"gd.wikipedia.org",gdwiktionary:"gd.wiktionary.org",glwiki:"gl.wikipedia.org",glwiktionary:"gl.wiktionary.org",glwikibooks:"gl.wikibooks.org",glwikiquote:"gl.wikiquote.org",glwikisource:"gl.wikisource.org",glkwiki:"glk.wikipedia.org",gnwiki:"gn.wikipedia.org",gnwiktionary:"gn.wiktionary.org",gnwikibooks:"gn.wikibooks.org",gomwiki:"gom.wikipedia.org",gotwiki:"got.wikipedia.org",gotwikibooks:"got.wikibooks.org",guwiki:"gu.wikipedia.org",guwiktionary:"gu.wiktionary.org",guwikibooks:"gu.wikibooks.org",guwikiquote:"gu.wikiquote.org",guwikisource:"gu.wikisource.org",gvwiki:"gv.wikipedia.org",gvwiktionary:"gv.wiktionary.org",hawiki:"ha.wikipedia.org",hawiktionary:"ha.wiktionary.org",hakwiki:"hak.wikipedia.org",hawwiki:"haw.wikipedia.org",hewiki:"he.wikipedia.org",hewiktionary:"he.wiktionary.org",hewikibooks:"he.wikibooks.org",hewikinews:"he.wikinews.org",hewikiquote:"he.wikiquote.org",hewikisource:"he.wikisource.org",hewikivoyage:"he.wikivoyage.org",hiwiki:"hi.wikipedia.org",hiwiktionary:"hi.wiktionary.org",hiwikibooks:"hi.wikibooks.org",hiwikiquote:"hi.wikiquote.org",hifwiki:"hif.wikipedia.org",howiki:"ho.wikipedia.org",hrwiki:"hr.wikipedia.org",hrwiktionary:"hr.wiktionary.org",hrwikibooks:"hr.wikibooks.org",hrwikiquote:"hr.wikiquote.org",hrwikisource:"hr.wikisource.org",hsbwiki:"hsb.wikipedia.org",hsbwiktionary:"hsb.wiktionary.org",htwiki:"ht.wikipedia.org",htwikisource:"ht.wikisource.org",huwiki:"hu.wikipedia.org",huwiktionary:"hu.wiktionary.org",huwikibooks:"hu.wikibooks.org",huwikinews:"hu.wikinews.org",huwikiquote:"hu.wikiquote.org",huwikisource:"hu.wikisource.org",hywiki:"hy.wikipedia.org",hywiktionary:"hy.wiktionary.org",hywikibooks:"hy.wikibooks.org",hywikiquote:"hy.wikiquote.org",hywikisource:"hy.wikisource.org",hzwiki:"hz.wikipedia.org",iawiki:"ia.wikipedia.org",iawiktionary:"ia.wiktionary.org",iawikibooks:"ia.wikibooks.org",idwiki:"id.wikipedia.org",idwiktionary:"id.wiktionary.org",idwikibooks:"id.wikibooks.org",idwikiquote:"id.wikiquote.org",idwikisource:"id.wikisource.org",iewiki:"ie.wikipedia.org",iewiktionary:"ie.wiktionary.org",iewikibooks:"ie.wikibooks.org",igwiki:"ig.wikipedia.org",iiwiki:"ii.wikipedia.org",ikwiki:"ik.wikipedia.org",ikwiktionary:"ik.wiktionary.org",ilowiki:"ilo.wikipedia.org",iowiki:"io.wikipedia.org",iowiktionary:"io.wiktionary.org",iswiki:"is.wikipedia.org",iswiktionary:"is.wiktionary.org",iswikibooks:"is.wikibooks.org",iswikiquote:"is.wikiquote.org",iswikisource:"is.wikisource.org",itwiki:"it.wikipedia.org",itwiktionary:"it.wiktionary.org",itwikibooks:"it.wikibooks.org",itwikinews:"it.wikinews.org",itwikiquote:"it.wikiquote.org",itwikisource:"it.wikisource.org",itwikiversity:"it.wikiversity.org",itwikivoyage:"it.wikivoyage.org",iuwiki:"iu.wikipedia.org",iuwiktionary:"iu.wiktionary.org",jawiki:"ja.wikipedia.org",jawiktionary:"ja.wiktionary.org",jawikibooks:"ja.wikibooks.org",jawikinews:"ja.wikinews.org",jawikiquote:"ja.wikiquote.org",jawikisource:"ja.wikisource.org",jawikiversity:"ja.wikiversity.org",jbowiki:"jbo.wikipedia.org",jbowiktionary:"jbo.wiktionary.org",jvwiki:"jv.wikipedia.org",jvwiktionary:"jv.wiktionary.org",kawiki:"ka.wikipedia.org",kawiktionary:"ka.wiktionary.org",kawikibooks:"ka.wikibooks.org",kawikiquote:"ka.wikiquote.org",kaawiki:"kaa.wikipedia.org",kabwiki:"kab.wikipedia.org",kbdwiki:"kbd.wikipedia.org",kgwiki:"kg.wikipedia.org",kiwiki:"ki.wikipedia.org",kjwiki:"kj.wikipedia.org",kkwiki:"kk.wikipedia.org",kkwiktionary:"kk.wiktionary.org",kkwikibooks:"kk.wikibooks.org",kkwikiquote:"kk.wikiquote.org",klwiki:"kl.wikipedia.org",klwiktionary:"kl.wiktionary.org",kmwiki:"km.wikipedia.org",kmwiktionary:"km.wiktionary.org",kmwikibooks:"km.wikibooks.org",knwiki:"kn.wikipedia.org",knwiktionary:"kn.wiktionary.org",knwikibooks:"kn.wikibooks.org",knwikiquote:"kn.wikiquote.org",knwikisource:"kn.wikisource.org",kowiki:"ko.wikipedia.org",kowiktionary:"ko.wiktionary.org",kowikibooks:"ko.wikibooks.org",kowikinews:"ko.wikinews.org",kowikiquote:"ko.wikiquote.org",kowikisource:"ko.wikisource.org",kowikiversity:"ko.wikiversity.org",koiwiki:"koi.wikipedia.org",krwiki:"kr.wikipedia.org",krwikiquote:"kr.wikiquote.org",krcwiki:"krc.wikipedia.org",kswiki:"ks.wikipedia.org",kswiktionary:"ks.wiktionary.org",kswikibooks:"ks.wikibooks.org",kswikiquote:"ks.wikiquote.org",kshwiki:"ksh.wikipedia.org",kuwiki:"ku.wikipedia.org",kuwiktionary:"ku.wiktionary.org",kuwikibooks:"ku.wikibooks.org",kuwikiquote:"ku.wikiquote.org",kvwiki:"kv.wikipedia.org",kwwiki:"kw.wikipedia.org",kwwiktionary:"kw.wiktionary.org",kwwikiquote:"kw.wikiquote.org",kywiki:"ky.wikipedia.org",kywiktionary:"ky.wiktionary.org",kywikibooks:"ky.wikibooks.org",kywikiquote:"ky.wikiquote.org",lawiki:"la.wikipedia.org",lawiktionary:"la.wiktionary.org",lawikibooks:"la.wikibooks.org",lawikiquote:"la.wikiquote.org",lawikisource:"la.wikisource.org",ladwiki:"lad.wikipedia.org",lbwiki:"lb.wikipedia.org",lbwiktionary:"lb.wiktionary.org",lbwikibooks:"lb.wikibooks.org",lbwikiquote:"lb.wikiquote.org",lbewiki:"lbe.wikipedia.org",lezwiki:"lez.wikipedia.org",lgwiki:"lg.wikipedia.org",liwiki:"li.wikipedia.org",liwiktionary:"li.wiktionary.org",liwikibooks:"li.wikibooks.org",liwikiquote:"li.wikiquote.org",liwikisource:"li.wikisource.org",lijwiki:"lij.wikipedia.org",lmowiki:"lmo.wikipedia.org",lnwiki:"ln.wikipedia.org",lnwiktionary:"ln.wiktionary.org",lnwikibooks:"ln.wikibooks.org",lowiki:"lo.wikipedia.org",lowiktionary:"lo.wiktionary.org",lrcwiki:"lrc.wikipedia.org",ltwiki:"lt.wikipedia.org",ltwiktionary:"lt.wiktionary.org",ltwikibooks:"lt.wikibooks.org",ltwikiquote:"lt.wikiquote.org",ltwikisource:"lt.wikisource.org",ltgwiki:"ltg.wikipedia.org",lvwiki:"lv.wikipedia.org",lvwiktionary:"lv.wiktionary.org",lvwikibooks:"lv.wikibooks.org",maiwiki:"mai.wikipedia.org",map_bmswiki:"map-bms.wikipedia.org",mdfwiki:"mdf.wikipedia.org",mgwiki:"mg.wikipedia.org",mgwiktionary:"mg.wiktionary.org",mgwikibooks:"mg.wikibooks.org",mhwiki:"mh.wikipedia.org",mhwiktionary:"mh.wiktionary.org",mhrwiki:"mhr.wikipedia.org",miwiki:"mi.wikipedia.org",miwiktionary:"mi.wiktionary.org",miwikibooks:"mi.wikibooks.org",minwiki:"min.wikipedia.org",mkwiki:"mk.wikipedia.org",mkwiktionary:"mk.wiktionary.org",mkwikibooks:"mk.wikibooks.org",mkwikisource:"mk.wikisource.org",mlwiki:"ml.wikipedia.org",mlwiktionary:"ml.wiktionary.org",mlwikibooks:"ml.wikibooks.org",mlwikiquote:"ml.wikiquote.org",mlwikisource:"ml.wikisource.org",mnwiki:"mn.wikipedia.org",mnwiktionary:"mn.wiktionary.org",mnwikibooks:"mn.wikibooks.org",mowiki:"mo.wikipedia.org",mowiktionary:"mo.wiktionary.org",mrwiki:"mr.wikipedia.org",mrwiktionary:"mr.wiktionary.org",mrwikibooks:"mr.wikibooks.org",mrwikiquote:"mr.wikiquote.org",mrwikisource:"mr.wikisource.org",mrjwiki:"mrj.wikipedia.org",mswiki:"ms.wikipedia.org",mswiktionary:"ms.wiktionary.org",mswikibooks:"ms.wikibooks.org",mtwiki:"mt.wikipedia.org",mtwiktionary:"mt.wiktionary.org",muswiki:"mus.wikipedia.org",mwlwiki:"mwl.wikipedia.org",mywiki:"my.wikipedia.org",mywiktionary:"my.wiktionary.org",mywikibooks:"my.wikibooks.org",myvwiki:"myv.wikipedia.org",mznwiki:"mzn.wikipedia.org",nawiki:"na.wikipedia.org",nawiktionary:"na.wiktionary.org",nawikibooks:"na.wikibooks.org",nawikiquote:"na.wikiquote.org",nahwiki:"nah.wikipedia.org",nahwiktionary:"nah.wiktionary.org",nahwikibooks:"nah.wikibooks.org",napwiki:"nap.wikipedia.org",ndswiki:"nds.wikipedia.org",ndswiktionary:"nds.wiktionary.org",ndswikibooks:"nds.wikibooks.org",ndswikiquote:"nds.wikiquote.org",nds_nlwiki:"nds-nl.wikipedia.org",newiki:"ne.wikipedia.org",newiktionary:"ne.wiktionary.org",newikibooks:"ne.wikibooks.org",newwiki:"new.wikipedia.org",ngwiki:"ng.wikipedia.org",nlwiki:"nl.wikipedia.org",nlwiktionary:"nl.wiktionary.org",nlwikibooks:"nl.wikibooks.org",nlwikinews:"nl.wikinews.org",nlwikiquote:"nl.wikiquote.org",nlwikisource:"nl.wikisource.org",nlwikivoyage:"nl.wikivoyage.org",nnwiki:"nn.wikipedia.org",nnwiktionary:"nn.wiktionary.org",nnwikiquote:"nn.wikiquote.org",nowiki:"no.wikipedia.org",nowiktionary:"no.wiktionary.org",nowikibooks:"no.wikibooks.org",nowikinews:"no.wikinews.org",nowikiquote:"no.wikiquote.org",nowikisource:"no.wikisource.org",novwiki:"nov.wikipedia.org",nrmwiki:"nrm.wikipedia.org",nsowiki:"nso.wikipedia.org",nvwiki:"nv.wikipedia.org",nywiki:"ny.wikipedia.org",ocwiki:"oc.wikipedia.org",ocwiktionary:"oc.wiktionary.org",ocwikibooks:"oc.wikibooks.org",omwiki:"om.wikipedia.org",omwiktionary:"om.wiktionary.org",orwiki:"or.wikipedia.org",orwiktionary:"or.wiktionary.org",orwikisource:"or.wikisource.org",oswiki:"os.wikipedia.org",pawiki:"pa.wikipedia.org",pawiktionary:"pa.wiktionary.org",pawikibooks:"pa.wikibooks.org",pagwiki:"pag.wikipedia.org",pamwiki:"pam.wikipedia.org",papwiki:"pap.wikipedia.org",pcdwiki:"pcd.wikipedia.org",pdcwiki:"pdc.wikipedia.org",pflwiki:"pfl.wikipedia.org",piwiki:"pi.wikipedia.org",piwiktionary:"pi.wiktionary.org",pihwiki:"pih.wikipedia.org",plwiki:"pl.wikipedia.org",plwiktionary:"pl.wiktionary.org",plwikibooks:"pl.wikibooks.org",plwikinews:"pl.wikinews.org",plwikiquote:"pl.wikiquote.org",plwikisource:"pl.wikisource.org",plwikivoyage:"pl.wikivoyage.org",pmswiki:"pms.wikipedia.org",pnbwiki:"pnb.wikipedia.org",pnbwiktionary:"pnb.wiktionary.org",pntwiki:"pnt.wikipedia.org",pswiki:"ps.wikipedia.org",pswiktionary:"ps.wiktionary.org",pswikibooks:"ps.wikibooks.org",ptwiki:"pt.wikipedia.org",ptwiktionary:"pt.wiktionary.org",ptwikibooks:"pt.wikibooks.org",ptwikinews:"pt.wikinews.org",ptwikiquote:"pt.wikiquote.org",ptwikisource:"pt.wikisource.org",ptwikiversity:"pt.wikiversity.org",ptwikivoyage:"pt.wikivoyage.org",quwiki:"qu.wikipedia.org",quwiktionary:"qu.wiktionary.org",quwikibooks:"qu.wikibooks.org",quwikiquote:"qu.wikiquote.org",rmwiki:"rm.wikipedia.org",rmwiktionary:"rm.wiktionary.org",rmwikibooks:"rm.wikibooks.org",rmywiki:"rmy.wikipedia.org",rnwiki:"rn.wikipedia.org",rnwiktionary:"rn.wiktionary.org",rowiki:"ro.wikipedia.org",rowiktionary:"ro.wiktionary.org",rowikibooks:"ro.wikibooks.org",rowikinews:"ro.wikinews.org",rowikiquote:"ro.wikiquote.org",rowikisource:"ro.wikisource.org",rowikivoyage:"ro.wikivoyage.org",roa_rupwiki:"roa-rup.wikipedia.org",roa_rupwiktionary:"roa-rup.wiktionary.org",roa_tarawiki:"roa-tara.wikipedia.org",ruwiki:"ru.wikipedia.org",ruwiktionary:"ru.wiktionary.org",ruwikibooks:"ru.wikibooks.org",ruwikinews:"ru.wikinews.org",ruwikiquote:"ru.wikiquote.org",ruwikisource:"ru.wikisource.org",ruwikiversity:"ru.wikiversity.org",ruwikivoyage:"ru.wikivoyage.org",ruewiki:"rue.wikipedia.org",rwwiki:"rw.wikipedia.org",rwwiktionary:"rw.wiktionary.org",sawiki:"sa.wikipedia.org",sawiktionary:"sa.wiktionary.org",sawikibooks:"sa.wikibooks.org",sawikiquote:"sa.wikiquote.org",sawikisource:"sa.wikisource.org",sahwiki:"sah.wikipedia.org",sahwikisource:"sah.wikisource.org",scwiki:"sc.wikipedia.org",scwiktionary:"sc.wiktionary.org",scnwiki:"scn.wikipedia.org",scnwiktionary:"scn.wiktionary.org",scowiki:"sco.wikipedia.org",sdwiki:"sd.wikipedia.org",sdwiktionary:"sd.wiktionary.org",sdwikinews:"sd.wikinews.org",sewiki:"se.wikipedia.org",sewikibooks:"se.wikibooks.org",sgwiki:"sg.wikipedia.org",sgwiktionary:"sg.wiktionary.org",shwiki:"sh.wikipedia.org",shwiktionary:"sh.wiktionary.org",siwiki:"si.wikipedia.org",siwiktionary:"si.wiktionary.org",siwikibooks:"si.wikibooks.org",simplewiki:"simple.wikipedia.org",simplewiktionary:"simple.wiktionary.org",simplewikibooks:"simple.wikibooks.org",simplewikiquote:"simple.wikiquote.org",skwiki:"sk.wikipedia.org",skwiktionary:"sk.wiktionary.org",skwikibooks:"sk.wikibooks.org",skwikiquote:"sk.wikiquote.org",skwikisource:"sk.wikisource.org",slwiki:"sl.wikipedia.org",slwiktionary:"sl.wiktionary.org",slwikibooks:"sl.wikibooks.org",slwikiquote:"sl.wikiquote.org",slwikisource:"sl.wikisource.org",slwikiversity:"sl.wikiversity.org",smwiki:"sm.wikipedia.org",smwiktionary:"sm.wiktionary.org",snwiki:"sn.wikipedia.org",snwiktionary:"sn.wiktionary.org",sowiki:"so.wikipedia.org",sowiktionary:"so.wiktionary.org",sqwiki:"sq.wikipedia.org",sqwiktionary:"sq.wiktionary.org",sqwikibooks:"sq.wikibooks.org",sqwikinews:"sq.wikinews.org",sqwikiquote:"sq.wikiquote.org",srwiki:"sr.wikipedia.org",srwiktionary:"sr.wiktionary.org",srwikibooks:"sr.wikibooks.org",srwikinews:"sr.wikinews.org",srwikiquote:"sr.wikiquote.org",srwikisource:"sr.wikisource.org",srnwiki:"srn.wikipedia.org",sswiki:"ss.wikipedia.org",sswiktionary:"ss.wiktionary.org",stwiki:"st.wikipedia.org",stwiktionary:"st.wiktionary.org",stqwiki:"stq.wikipedia.org",suwiki:"su.wikipedia.org",suwiktionary:"su.wiktionary.org",suwikibooks:"su.wikibooks.org",suwikiquote:"su.wikiquote.org",svwiki:"sv.wikipedia.org",svwiktionary:"sv.wiktionary.org",svwikibooks:"sv.wikibooks.org",svwikinews:"sv.wikinews.org",svwikiquote:"sv.wikiquote.org",
svwikisource:"sv.wikisource.org",svwikiversity:"sv.wikiversity.org",svwikivoyage:"sv.wikivoyage.org",swwiki:"sw.wikipedia.org",swwiktionary:"sw.wiktionary.org",swwikibooks:"sw.wikibooks.org",szlwiki:"szl.wikipedia.org",tawiki:"ta.wikipedia.org",tawiktionary:"ta.wiktionary.org",tawikibooks:"ta.wikibooks.org",tawikinews:"ta.wikinews.org",tawikiquote:"ta.wikiquote.org",tawikisource:"ta.wikisource.org",tewiki:"te.wikipedia.org",tewiktionary:"te.wiktionary.org",tewikibooks:"te.wikibooks.org",tewikiquote:"te.wikiquote.org",tewikisource:"te.wikisource.org",tetwiki:"tet.wikipedia.org",tgwiki:"tg.wikipedia.org",tgwiktionary:"tg.wiktionary.org",tgwikibooks:"tg.wikibooks.org",thwiki:"th.wikipedia.org",thwiktionary:"th.wiktionary.org",thwikibooks:"th.wikibooks.org",thwikinews:"th.wikinews.org",thwikiquote:"th.wikiquote.org",thwikisource:"th.wikisource.org",tiwiki:"ti.wikipedia.org",tiwiktionary:"ti.wiktionary.org",tkwiki:"tk.wikipedia.org",tkwiktionary:"tk.wiktionary.org",tkwikibooks:"tk.wikibooks.org",tkwikiquote:"tk.wikiquote.org",tlwiki:"tl.wikipedia.org",tlwiktionary:"tl.wiktionary.org",tlwikibooks:"tl.wikibooks.org",tnwiki:"tn.wikipedia.org",tnwiktionary:"tn.wiktionary.org",towiki:"to.wikipedia.org",towiktionary:"to.wiktionary.org",tpiwiki:"tpi.wikipedia.org",tpiwiktionary:"tpi.wiktionary.org",trwiki:"tr.wikipedia.org",trwiktionary:"tr.wiktionary.org",trwikibooks:"tr.wikibooks.org",trwikinews:"tr.wikinews.org",trwikiquote:"tr.wikiquote.org",trwikisource:"tr.wikisource.org",tswiki:"ts.wikipedia.org",tswiktionary:"ts.wiktionary.org",ttwiki:"tt.wikipedia.org",ttwiktionary:"tt.wiktionary.org",ttwikibooks:"tt.wikibooks.org",ttwikiquote:"tt.wikiquote.org",tumwiki:"tum.wikipedia.org",twwiki:"tw.wikipedia.org",twwiktionary:"tw.wiktionary.org",tywiki:"ty.wikipedia.org",tyvwiki:"tyv.wikipedia.org",udmwiki:"udm.wikipedia.org",ugwiki:"ug.wikipedia.org",ugwiktionary:"ug.wiktionary.org",ugwikibooks:"ug.wikibooks.org",ugwikiquote:"ug.wikiquote.org",ukwiki:"uk.wikipedia.org",ukwiktionary:"uk.wiktionary.org",ukwikibooks:"uk.wikibooks.org",ukwikinews:"uk.wikinews.org",ukwikiquote:"uk.wikiquote.org",ukwikisource:"uk.wikisource.org",ukwikivoyage:"uk.wikivoyage.org",urwiki:"ur.wikipedia.org",urwiktionary:"ur.wiktionary.org",urwikibooks:"ur.wikibooks.org",urwikiquote:"ur.wikiquote.org",uzwiki:"uz.wikipedia.org",uzwiktionary:"uz.wiktionary.org",uzwikibooks:"uz.wikibooks.org",uzwikiquote:"uz.wikiquote.org",vewiki:"ve.wikipedia.org",vecwiki:"vec.wikipedia.org",vecwiktionary:"vec.wiktionary.org",vecwikisource:"vec.wikisource.org",vepwiki:"vep.wikipedia.org",viwiki:"vi.wikipedia.org",viwiktionary:"vi.wiktionary.org",viwikibooks:"vi.wikibooks.org",viwikiquote:"vi.wikiquote.org",viwikisource:"vi.wikisource.org",viwikivoyage:"vi.wikivoyage.org",vlswiki:"vls.wikipedia.org",vowiki:"vo.wikipedia.org",vowiktionary:"vo.wiktionary.org",vowikibooks:"vo.wikibooks.org",vowikiquote:"vo.wikiquote.org",wawiki:"wa.wikipedia.org",wawiktionary:"wa.wiktionary.org",wawikibooks:"wa.wikibooks.org",warwiki:"war.wikipedia.org",wowiki:"wo.wikipedia.org",wowiktionary:"wo.wiktionary.org",wowikiquote:"wo.wikiquote.org",wuuwiki:"wuu.wikipedia.org",xalwiki:"xal.wikipedia.org",xhwiki:"xh.wikipedia.org",xhwiktionary:"xh.wiktionary.org",xhwikibooks:"xh.wikibooks.org",xmfwiki:"xmf.wikipedia.org",yiwiki:"yi.wikipedia.org",yiwiktionary:"yi.wiktionary.org",yiwikisource:"yi.wikisource.org",yowiki:"yo.wikipedia.org",yowiktionary:"yo.wiktionary.org",yowikibooks:"yo.wikibooks.org",zawiki:"za.wikipedia.org",zawiktionary:"za.wiktionary.org",zawikibooks:"za.wikibooks.org",zawikiquote:"za.wikiquote.org",zeawiki:"zea.wikipedia.org",zhwiki:"zh.wikipedia.org",zhwiktionary:"zh.wiktionary.org",zhwikibooks:"zh.wikibooks.org",zhwikinews:"zh.wikinews.org",zhwikiquote:"zh.wikiquote.org",zhwikisource:"zh.wikisource.org",zhwikivoyage:"zh.wikivoyage.org",zh_classicalwiki:"zh-classical.wikipedia.org",zh_min_nanwiki:"zh-min-nan.wikipedia.org",zh_min_nanwiktionary:"zh-min-nan.wiktionary.org",zh_min_nanwikibooks:"zh-min-nan.wikibooks.org",zh_min_nanwikiquote:"zh-min-nan.wikiquote.org",zh_min_nanwikisource:"zh-min-nan.wikisource.org",zh_yuewiki:"zh-yue.wikipedia.org",zuwiki:"zu.wikipedia.org",zuwiktionary:"zu.wiktionary.org",zuwikibooks:"zu.wikibooks.org",advisorywiki:"advisory.wikimedia.org",arwikimedia:"ar.wikimedia.org",arbcom_dewiki:"arbcom-de.wikipedia.org",arbcom_enwiki:"arbcom-en.wikipedia.org",arbcom_fiwiki:"arbcom-fi.wikipedia.org",arbcom_nlwiki:"arbcom-nl.wikipedia.org",auditcomwiki:"auditcom.wikimedia.org",bdwikimedia:"bd.wikimedia.org",bewikimedia:"be.wikimedia.org",betawikiversity:"beta.wikiversity.org",boardwiki:"board.wikimedia.org",boardgovcomwiki:"boardgovcom.wikimedia.org",brwikimedia:"br.wikimedia.org",cawikimedia:"ca.wikimedia.org",chairwiki:"chair.wikimedia.org",chapcomwiki:"affcom.wikimedia.org",checkuserwiki:"checkuser.wikimedia.org",cnwikimedia:"cn.wikimedia.org",cowikimedia:"co.wikimedia.org",collabwiki:"collab.wikimedia.org",commonswiki:"commons.wikimedia.org",dkwikimedia:"dk.wikimedia.org",donatewiki:"donate.wikimedia.org",etwikimedia:"ee.wikimedia.org",execwiki:"exec.wikimedia.org",fdcwiki:"fdc.wikimedia.org",fiwikimedia:"fi.wikimedia.org",foundationwiki:"wikimediafoundation.org",grantswiki:"grants.wikimedia.org",iegcomwiki:"iegcom.wikimedia.org",ilwikimedia:"il.wikimedia.org",incubatorwiki:"incubator.wikimedia.org",internalwiki:"internal.wikimedia.org",labswiki:"wikitech.wikimedia.org",labtestwiki:"labtestwikitech.wikimedia.org",legalteamwiki:"legalteam.wikimedia.org",loginwiki:"login.wikimedia.org",mediawikiwiki:"mediawiki.org",metawiki:"meta.wikimedia.org",mkwikimedia:"mk.wikimedia.org",movementroleswiki:"movementroles.wikimedia.org",mxwikimedia:"mx.wikimedia.org",nlwikimedia:"nl.wikimedia.org",nowikimedia:"no.wikimedia.org",noboard_chapterswikimedia:"noboard-chapters.wikimedia.org",nostalgiawiki:"nostalgia.wikipedia.org",nycwikimedia:"nyc.wikimedia.org",nzwikimedia:"nz.wikimedia.org",officewiki:"office.wikimedia.org",ombudsmenwiki:"ombudsmen.wikimedia.org",otrs_wikiwiki:"otrs-wiki.wikimedia.org",outreachwiki:"outreach.wikimedia.org",pa_uswikimedia:"pa-us.wikimedia.org",plwikimedia:"pl.wikimedia.org",qualitywiki:"quality.wikimedia.org",rswikimedia:"rs.wikimedia.org",ruwikimedia:"ru.wikimedia.org",sewikimedia:"se.wikimedia.org",searchcomwiki:"searchcom.wikimedia.org",sourceswiki:"wikisource.org",spcomwiki:"spcom.wikimedia.org",specieswiki:"species.wikimedia.org",stewardwiki:"steward.wikimedia.org",strategywiki:"strategy.wikimedia.org",tenwiki:"ten.wikipedia.org",testwiki:"test.wikipedia.org",test2wiki:"test2.wikipedia.org",testwikidatawiki:"test.wikidata.org",trwikimedia:"tr.wikimedia.org",transitionteamwiki:"transitionteam.wikimedia.org",uawikimedia:"ua.wikimedia.org",ukwikimedia:"uk.wikimedia.org",usabilitywiki:"usability.wikimedia.org",votewiki:"vote.wikimedia.org",wg_enwiki:"wg-en.wikipedia.org",wikidatawiki:"wikidata.org",wikimania2005wiki:"wikimania2005.wikimedia.org",wikimania2006wiki:"wikimania2006.wikimedia.org",wikimania2007wiki:"wikimania2007.wikimedia.org",wikimania2008wiki:"wikimania2008.wikimedia.org",wikimania2009wiki:"wikimania2009.wikimedia.org",wikimania2010wiki:"wikimania2010.wikimedia.org",wikimania2011wiki:"wikimania2011.wikimedia.org",wikimania2012wiki:"wikimania2012.wikimedia.org",wikimania2013wiki:"wikimania2013.wikimedia.org",wikimania2014wiki:"wikimania2014.wikimedia.org",wikimania2015wiki:"wikimania2015.wikimedia.org",wikimania2016wiki:"wikimania2016.wikimedia.org",wikimania2017wiki:"wikimania2017.wikimedia.org",wikimaniateamwiki:"wikimaniateam.wikimedia.org",zerowiki:"zero.wikimedia.org"};e.exports=o},{}]},{},[2]);